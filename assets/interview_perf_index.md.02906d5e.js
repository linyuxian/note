import{_ as s,a as n,b as a}from"./chunks/huishou.951db062.js";import{_ as l,o as p,c as o,N as e}from"./chunks/framework.1bd30c58.js";const f=JSON.parse('{"title":"é¢è¯•æ•´ç†","description":"é¢è¯•æ•´ç†","frontmatter":{"lang":"zh-CN","title":"é¢è¯•æ•´ç†","description":"é¢è¯•æ•´ç†"},"headers":[{"level":2,"title":"1. HTML","slug":"_1-html","link":"#_1-html","children":[{"level":3,"title":"1. å¦‚ä½•ç†è§£ HTML è¯­ä¹‰åŒ–ï¼Ÿ","slug":"_1-å¦‚ä½•ç†è§£-html-è¯­ä¹‰åŒ–","link":"#_1-å¦‚ä½•ç†è§£-html-è¯­ä¹‰åŒ–","children":[]},{"level":3,"title":"2. script æ ‡ç­¾ä¸­ defer å’Œ async çš„åŒºåˆ«ï¼Ÿ","slug":"_2-script-æ ‡ç­¾ä¸­-defer-å’Œ-async-çš„åŒºåˆ«","link":"#_2-script-æ ‡ç­¾ä¸­-defer-å’Œ-async-çš„åŒºåˆ«","children":[]},{"level":3,"title":"3. ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°è¯·æ±‚è¿”å›å‘ç”Ÿäº†ä»€ä¹ˆ","slug":"_3-ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°è¯·æ±‚è¿”å›å‘ç”Ÿäº†ä»€ä¹ˆ","link":"#_3-ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°è¯·æ±‚è¿”å›å‘ç”Ÿäº†ä»€ä¹ˆ","children":[]}]},{"level":2,"title":"2. CSS","slug":"_2-css","link":"#_2-css","children":[{"level":3,"title":"1. ç›’æ¨¡å‹ä»‹ç»","slug":"_1-ç›’æ¨¡å‹ä»‹ç»","link":"#_1-ç›’æ¨¡å‹ä»‹ç»","children":[]},{"level":3,"title":"2. css é€‰æ‹©å™¨å’Œä¼˜å…ˆçº§","slug":"_2-css-é€‰æ‹©å™¨å’Œä¼˜å…ˆçº§","link":"#_2-css-é€‰æ‹©å™¨å’Œä¼˜å…ˆçº§","children":[]},{"level":3,"title":"3. é‡æ’ï¼ˆreflowï¼‰å’Œé‡ç»˜ï¼ˆrepaintï¼‰çš„ç†è§£","slug":"_3-é‡æ’-reflow-å’Œé‡ç»˜-repaint-çš„ç†è§£","link":"#_3-é‡æ’-reflow-å’Œé‡ç»˜-repaint-çš„ç†è§£","children":[]},{"level":3,"title":"4. å¯¹ BFC çš„ç†è§£","slug":"_4-å¯¹-bfc-çš„ç†è§£","link":"#_4-å¯¹-bfc-çš„ç†è§£","children":[]},{"level":3,"title":"5. å®ç°ä¸¤æ å¸ƒå±€ï¼ˆå·¦ä¾§å›ºå®š + å³ä¾§è‡ªé€‚åº”å¸ƒå±€ï¼‰","slug":"_5-å®ç°ä¸¤æ å¸ƒå±€-å·¦ä¾§å›ºå®š-å³ä¾§è‡ªé€‚åº”å¸ƒå±€","link":"#_5-å®ç°ä¸¤æ å¸ƒå±€-å·¦ä¾§å›ºå®š-å³ä¾§è‡ªé€‚åº”å¸ƒå±€","children":[]},{"level":3,"title":"6. å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€ï¼ˆç»å…¸ä¸‰åˆ†æ å¸ƒå±€ï¼‰","slug":"_6-å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€-ç»å…¸ä¸‰åˆ†æ å¸ƒå±€","link":"#_6-å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€-ç»å…¸ä¸‰åˆ†æ å¸ƒå±€","children":[]},{"level":3,"title":"7. æ°´å¹³å‚ç›´å±…ä¸­å¤šç§å®ç°æ–¹å¼","slug":"_7-æ°´å¹³å‚ç›´å±…ä¸­å¤šç§å®ç°æ–¹å¼","link":"#_7-æ°´å¹³å‚ç›´å±…ä¸­å¤šç§å®ç°æ–¹å¼","children":[]},{"level":3,"title":"8. flex å¸ƒå±€","slug":"_8-flex-å¸ƒå±€","link":"#_8-flex-å¸ƒå±€","children":[]},{"level":3,"title":"9. line-height å¦‚ä½•ç»§æ‰¿ï¼Ÿ","slug":"_9-line-height-å¦‚ä½•ç»§æ‰¿","link":"#_9-line-height-å¦‚ä½•ç»§æ‰¿","children":[]}]},{"level":2,"title":"3. JS åŸºç¡€","slug":"_3-js-åŸºç¡€","link":"#_3-js-åŸºç¡€","children":[{"level":3,"title":"1. æ•°æ®ç±»å‹","slug":"_1-æ•°æ®ç±»å‹","link":"#_1-æ•°æ®ç±»å‹","children":[]},{"level":3,"title":"2. åŸå‹å’ŒåŸå‹é“¾","slug":"_2-åŸå‹å’ŒåŸå‹é“¾","link":"#_2-åŸå‹å’ŒåŸå‹é“¾","children":[]},{"level":3,"title":"3. ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾","slug":"_3-ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾","link":"#_3-ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾","children":[]},{"level":3,"title":"4. æ‰§è¡Œä¸Šä¸‹æ–‡","slug":"_4-æ‰§è¡Œä¸Šä¸‹æ–‡","link":"#_4-æ‰§è¡Œä¸Šä¸‹æ–‡","children":[]},{"level":3,"title":"5. é—­åŒ…","slug":"_5-é—­åŒ…","link":"#_5-é—­åŒ…","children":[]},{"level":3,"title":"6. callã€applyã€bind å®ç°","slug":"_6-callã€applyã€bind-å®ç°","link":"#_6-callã€applyã€bind-å®ç°","children":[]},{"level":3,"title":"7. new å®ç°","slug":"_7-new-å®ç°","link":"#_7-new-å®ç°","children":[]},{"level":3,"title":"8. å¼‚æ­¥","slug":"_8-å¼‚æ­¥","link":"#_8-å¼‚æ­¥","children":[{"level":4,"title":"8.1 event loopã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡","slug":"_8-1-event-loopã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡","link":"#_8-1-event-loopã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡","children":[]},{"level":4,"title":"8.2 Promise","slug":"_8-2-promise","link":"#_8-2-promise","children":[]},{"level":4,"title":"8.3 async/await å’Œ Promise çš„å…³ç³»","slug":"_8-3-async-await-å’Œ-promise-çš„å…³ç³»","link":"#_8-3-async-await-å’Œ-promise-çš„å…³ç³»","children":[]}]},{"level":3,"title":"9.æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶","slug":"_9-æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶","link":"#_9-æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶","children":[]},{"level":3,"title":"10. å®ç°ä¸€ä¸ª EventMitter ç±»","slug":"_10-å®ç°ä¸€ä¸ª-eventmitter-ç±»","link":"#_10-å®ç°ä¸€ä¸ª-eventmitter-ç±»","children":[]}]},{"level":2,"title":"4. WEB å­˜å‚¨","slug":"_4-web-å­˜å‚¨","link":"#_4-web-å­˜å‚¨","children":[]},{"level":2,"title":"5. Http","slug":"_5-http","link":"#_5-http","children":[{"level":3,"title":"1. http çŠ¶æ€ç ","slug":"_1-http-çŠ¶æ€ç ","link":"#_1-http-çŠ¶æ€ç ","children":[]},{"level":3,"title":"2. å¸¸è§çŠ¶æ€ç ","slug":"_2-å¸¸è§çŠ¶æ€ç ","link":"#_2-å¸¸è§çŠ¶æ€ç ","children":[]},{"level":3,"title":"3. å…³äºåè®®å’Œè§„èŒƒ","slug":"_3-å…³äºåè®®å’Œè§„èŒƒ","link":"#_3-å…³äºåè®®å’Œè§„èŒƒ","children":[]}]},{"level":2,"title":"6. React","slug":"_6-react","link":"#_6-react","children":[{"level":3,"title":"1. React äº‹ä»¶æœºåˆ¶ï¼ŒReact 16 å’Œ React 17 äº‹ä»¶æœºåˆ¶çš„ä¸åŒ","slug":"_1-react-äº‹ä»¶æœºåˆ¶-react-16-å’Œ-react-17-äº‹ä»¶æœºåˆ¶çš„ä¸åŒ","link":"#_1-react-äº‹ä»¶æœºåˆ¶-react-16-å’Œ-react-17-äº‹ä»¶æœºåˆ¶çš„ä¸åŒ","children":[]},{"level":3,"title":"2. class component","slug":"_2-class-component","link":"#_2-class-component","children":[{"level":4,"title":"2.1 ç”Ÿå‘½å‘¨æœŸ","slug":"_2-1-ç”Ÿå‘½å‘¨æœŸ","link":"#_2-1-ç”Ÿå‘½å‘¨æœŸ","children":[]},{"level":4,"title":"2.2 setState åŒæ­¥è¿˜æ˜¯å¼‚æ­¥","slug":"_2-2-setstate-åŒæ­¥è¿˜æ˜¯å¼‚æ­¥","link":"#_2-2-setstate-åŒæ­¥è¿˜æ˜¯å¼‚æ­¥","children":[]}]},{"level":3,"title":"3. å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£","slug":"_3-å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£","link":"#_3-å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£","children":[]},{"level":3,"title":"4. react hooks","slug":"_4-react-hooks","link":"#_4-react-hooks","children":[]},{"level":3,"title":"5. React.forwardRef æ˜¯ä»€ä¹ˆåŠå…¶ä½œç”¨","slug":"_5-react-forwardref-æ˜¯ä»€ä¹ˆåŠå…¶ä½œç”¨","link":"#_5-react-forwardref-æ˜¯ä»€ä¹ˆåŠå…¶ä½œç”¨","children":[]},{"level":3,"title":"6. react hooks ä¸ class ç»„ä»¶å¯¹æ¯”","slug":"_6-react-hooks-ä¸-class-ç»„ä»¶å¯¹æ¯”","link":"#_6-react-hooks-ä¸-class-ç»„ä»¶å¯¹æ¯”","children":[]},{"level":3,"title":"7. ä»‹ç» React dom diff ç®—æ³•","slug":"_7-ä»‹ç»-react-dom-diff-ç®—æ³•","link":"#_7-ä»‹ç»-react-dom-diff-ç®—æ³•","children":[]},{"level":3,"title":"8. å¯¹ React Fiber çš„ç†è§£","slug":"_8-å¯¹-react-fiber-çš„ç†è§£","link":"#_8-å¯¹-react-fiber-çš„ç†è§£","children":[]},{"level":3,"title":"9. React æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ","slug":"_9-react-æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ","link":"#_9-react-æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ","children":[]},{"level":3,"title":"10. React Redux","slug":"_10-react-redux","link":"#_10-react-redux","children":[]}]},{"level":2,"title":"7. webpack","slug":"_7-webpack","link":"#_7-webpack","children":[]},{"level":2,"title":"8. æ¨¡å—åŒ–","slug":"_8-æ¨¡å—åŒ–","link":"#_8-æ¨¡å—åŒ–","children":[]},{"level":2,"title":"9. æ€§èƒ½ä¼˜åŒ–","slug":"_9-æ€§èƒ½ä¼˜åŒ–","link":"#_9-æ€§èƒ½ä¼˜åŒ–","children":[]},{"level":2,"title":"10. å¸¸è§æ‰‹å†™","slug":"_10-å¸¸è§æ‰‹å†™","link":"#_10-å¸¸è§æ‰‹å†™","children":[{"level":3,"title":"1. é˜²æŠ–","slug":"_1-é˜²æŠ–","link":"#_1-é˜²æŠ–","children":[]},{"level":3,"title":"2. èŠ‚æµ","slug":"_2-èŠ‚æµ","link":"#_2-èŠ‚æµ","children":[]},{"level":3,"title":"3. å¿«é€Ÿæ’åº","slug":"_3-å¿«é€Ÿæ’åº","link":"#_3-å¿«é€Ÿæ’åº","children":[]},{"level":3,"title":"4. instanceof","slug":"_4-instanceof","link":"#_4-instanceof","children":[]},{"level":3,"title":"5. æ•°ç»„æ‰å¹³åŒ–","slug":"_5-æ•°ç»„æ‰å¹³åŒ–","link":"#_5-æ•°ç»„æ‰å¹³åŒ–","children":[]},{"level":3,"title":"6. æ‰‹å†™ reduce","slug":"_6-æ‰‹å†™-reduce","link":"#_6-æ‰‹å†™-reduce","children":[]},{"level":3,"title":"7. å¸¦å¹¶å‘çš„å¼‚æ­¥è°ƒåº¦å™¨ Scheduler","slug":"_7-å¸¦å¹¶å‘çš„å¼‚æ­¥è°ƒåº¦å™¨-scheduler","link":"#_7-å¸¦å¹¶å‘çš„å¼‚æ­¥è°ƒåº¦å™¨-scheduler","children":[]},{"level":3,"title":"8. å»é‡","slug":"_8-å»é‡","link":"#_8-å»é‡","children":[]}]},{"level":2,"title":"11. ç®—æ³•","slug":"_11-ç®—æ³•","link":"#_11-ç®—æ³•","children":[]}],"relativePath":"interview/perf/index.md","lastUpdated":1678867896000}'),t={name:"interview/perf/index.md"},c=e(`<h2 id="_1-html" tabindex="-1">1. HTML <a class="header-anchor" href="#_1-html" aria-hidden="true">#</a></h2><blockquote><p>æœ¬é¡µé¢å†…å®¹å¤§éƒ¨åˆ†æ¥è‡ªäº <a href="https://juejin.cn/post/7061588533214969892" target="_blank" rel="noreferrer">ç¨€åœŸæ˜é‡‘</a></p></blockquote><h3 id="_1-å¦‚ä½•ç†è§£-html-è¯­ä¹‰åŒ–" tabindex="-1">1. å¦‚ä½•ç†è§£ HTML è¯­ä¹‰åŒ–ï¼Ÿ <a class="header-anchor" href="#_1-å¦‚ä½•ç†è§£-html-è¯­ä¹‰åŒ–" aria-hidden="true">#</a></h3><ul><li>è®©äººæ›´å®¹æ˜“è¯»æ‡‚ï¼ˆå¢åŠ ä»£ç å¯è¯»æ€§ï¼‰ã€‚</li><li>è®©æœç´¢å¼•æ“æ›´å®¹æ˜“è¯»æ‡‚ï¼Œæœ‰åŠ©äºçˆ¬è™«æŠ“å–æ›´å¤šçš„æœ‰æ•ˆä¿¡æ¯ï¼Œçˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼ˆSEOï¼‰ã€‚</li><li>åœ¨æ²¡æœ‰ CSS æ ·å¼ä¸‹ï¼Œé¡µé¢ä¹Ÿèƒ½å‘ˆç°å‡ºå¾ˆå¥½åœ°å†…å®¹ç»“æ„ã€ä»£ç ç»“æ„ã€‚</li></ul><h3 id="_2-script-æ ‡ç­¾ä¸­-defer-å’Œ-async-çš„åŒºåˆ«" tabindex="-1">2. script æ ‡ç­¾ä¸­ defer å’Œ async çš„åŒºåˆ«ï¼Ÿ <a class="header-anchor" href="#_2-script-æ ‡ç­¾ä¸­-defer-å’Œ-async-çš„åŒºåˆ«" aria-hidden="true">#</a></h3><ul><li><code>script</code> ï¼šä¼šé˜»ç¢ HTML è§£æï¼Œåªæœ‰ä¸‹è½½å¥½å¹¶æ‰§è¡Œå®Œè„šæœ¬æ‰ä¼šç»§ç»­è§£æ HTMLã€‚</li><li><code>async script</code> ï¼šè§£æ HTML è¿‡ç¨‹ä¸­è¿›è¡Œè„šæœ¬çš„å¼‚æ­¥ä¸‹è½½ï¼Œä¸‹è½½æˆåŠŸç«‹é©¬æ‰§è¡Œï¼Œæœ‰å¯èƒ½ä¼šé˜»æ–­ HTML çš„è§£æã€‚</li><li><code>defer script</code>ï¼šå®Œå…¨ä¸ä¼šé˜»ç¢ HTML çš„è§£æï¼Œè§£æå®Œæˆä¹‹åå†æŒ‰ç…§é¡ºåºæ‰§è¡Œè„šæœ¬ã€‚</li></ul><p><a href="https://juejin.cn/post/6894629999215640583" target="_blank" rel="noreferrer">å›¾è§£ script æ ‡ç­¾ä¸­çš„ async å’Œ defer å±æ€§</a></p><h3 id="_3-ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°è¯·æ±‚è¿”å›å‘ç”Ÿäº†ä»€ä¹ˆ" tabindex="-1">3. ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥ url åˆ°è¯·æ±‚è¿”å›å‘ç”Ÿäº†ä»€ä¹ˆ <a class="header-anchor" href="#_3-ä»æµè§ˆå™¨åœ°å€æ è¾“å…¥-url-åˆ°è¯·æ±‚è¿”å›å‘ç”Ÿäº†ä»€ä¹ˆ" aria-hidden="true">#</a></h3><p>å…ˆé˜…è¯»è¿™ç¯‡ç§‘æ™®æ€§è´¨çš„ï¼š<a href="https://juejin.cn/post/6844903784229896199" target="_blank" rel="noreferrer">ä» URL è¾“å…¥åˆ°é¡µé¢å±•ç°åˆ°åº•å‘ç”Ÿä»€ä¹ˆï¼Ÿ</a> å…ˆé˜…è¯»ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6935232082482298911" target="_blank" rel="noreferrer">ä»è¾“å…¥ URL å¼€å§‹å»ºç«‹å‰ç«¯çŸ¥è¯†ä½“ç³»</a>ã€‚</p><ol><li>è¾“å…¥ URL åè§£æå‡ºåè®®ã€ä¸»æœºã€ç«¯å£ã€è·¯å¾„ç­‰ä¿¡æ¯ï¼Œå¹¶æ„é€ ä¸€ä¸ª HTTP è¯·æ±‚ã€‚</li></ol><ul><li>å¼ºç¼“å­˜ã€‚</li><li>åå•†ç¼“å­˜ã€‚</li></ul><ol start="2"><li>DNS åŸŸåè§£æã€‚ï¼ˆ<a href="https://juejin.cn/post/6990344840181940261" target="_blank" rel="noreferrer">å­—èŠ‚é¢è¯•è¢«è™åï¼Œæ˜¯æ—¶å€™ææ‡‚ DNS äº†</a>ï¼‰</li><li>TCP è¿æ¥ã€‚</li></ol><blockquote><p>æ€»æ˜¯è¦é—®ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡ä¸è¡Œå—ï¼Ÿå…¶å®è¿™æ˜¯ç”± TCP çš„è‡ªèº«ç‰¹ç‚¹å¯é ä¼ è¾“å†³å®šçš„ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¦è¿›è¡Œå¯é ä¼ è¾“ï¼Œé‚£ä¹ˆå°±éœ€è¦ç¡®è®¤åŒæ–¹çš„æ¥æ”¶å’Œå‘é€èƒ½åŠ›ã€‚ç¬¬ä¸€æ¬¡æ¡æ‰‹å¯ä»¥ç¡®è®¤å®¢æœç«¯çš„å‘é€èƒ½åŠ›ï¼Œç¬¬äºŒæ¬¡æ¡æ‰‹ï¼Œç¡®è®¤äº†æœåŠ¡ç«¯çš„å‘é€èƒ½åŠ›å’Œæ¥æ”¶èƒ½åŠ›ï¼Œæ‰€ä»¥ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ‰å¯ä»¥ç¡®è®¤å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›ã€‚ä¸ç„¶å®¹æ˜“å‡ºç°ä¸¢åŒ…çš„ç°è±¡ã€‚</p></blockquote><ol start="4"><li>http è¯·æ±‚ã€‚</li><li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å› HTTP æŠ¥æ–‡ã€‚</li><li>æµè§ˆå™¨æ¸²æŸ“é¡µé¢ã€‚</li><li>æ–­å¼€ TCP è¿æ¥ã€‚</li></ol><h2 id="_2-css" tabindex="-1">2. CSS <a class="header-anchor" href="#_2-css" aria-hidden="true">#</a></h2><h3 id="_1-ç›’æ¨¡å‹ä»‹ç»" tabindex="-1">1. ç›’æ¨¡å‹ä»‹ç» <a class="header-anchor" href="#_1-ç›’æ¨¡å‹ä»‹ç»" aria-hidden="true">#</a></h3><p>CSS3 ä¸­çš„ç›’æ¨¡å‹æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š<strong>æ ‡å‡†ç›’æ¨¡å‹</strong>ã€<strong>IEï¼ˆæ›¿ä»£ï¼‰ç›’æ¨¡å‹</strong>ã€‚</p><p>ä¸¤ç§ç›’å­æ¨¡å‹éƒ½æ˜¯ç”± <code>content + padding + border + margin</code> æ„æˆï¼Œå…¶å¤§å°éƒ½æ˜¯ç”± <code>content + padding + border</code> å†³å®šçš„ï¼Œä½†æ˜¯ç›’å­å†…å®¹å®½/é«˜åº¦ï¼ˆå³ <code>width/height</code>ï¼‰çš„è®¡ç®—èŒƒå›´æ ¹æ®ç›’æ¨¡å‹çš„ä¸åŒä¼šæœ‰æ‰€ä¸åŒï¼š</p><ul><li>æ ‡å‡†ç›’æ¨¡å‹ï¼šåªåŒ…å« <code>content</code> ã€‚</li><li>IEï¼ˆæ›¿ä»£ï¼‰ç›’æ¨¡å‹ï¼š<code>content + padding + border</code> ã€‚</li></ul><p>å¯ä»¥é€šè¿‡ <code>box-sizing</code> æ¥æ”¹å˜å…ƒç´ çš„ç›’æ¨¡å‹ï¼š</p><ul><li><code>box-sizing: content-box</code> ï¼šæ ‡å‡†ç›’æ¨¡å‹ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li><li><code>box-sizing: border-box</code> ï¼šIEï¼ˆæ›¿ä»£ï¼‰ç›’æ¨¡å‹ã€‚</li></ul><h3 id="_2-css-é€‰æ‹©å™¨å’Œä¼˜å…ˆçº§" tabindex="-1">2. css é€‰æ‹©å™¨å’Œä¼˜å…ˆçº§ <a class="header-anchor" href="#_2-css-é€‰æ‹©å™¨å’Œä¼˜å…ˆçº§" aria-hidden="true">#</a></h3><p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“æœ‰å“ªäº›é€‰æ‹©å™¨ï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Selectors#%E9%80%89%E6%8B%A9%E5%99%A8%E5%8F%82%E8%80%83%E8%A1%A8" target="_blank" rel="noreferrer">é€‰æ‹©å™¨å‚è€ƒè¡¨</a>ã€‚</p><p>å¸¸è§„æ¥è¯´ï¼Œå¤§å®¶éƒ½çŸ¥é“æ ·å¼çš„ä¼˜å…ˆçº§ä¸€èˆ¬ä¸º <code>!important &gt; style &gt; id &gt; class</code> ï¼Œä½†æ˜¯æ¶‰åŠå¤šç±»é€‰æ‹©å™¨ä½œç”¨äºåŒä¸€ä¸ªå…ƒç´ æ—¶å€™æ€ä¹ˆåˆ¤æ–­ä¼˜å…ˆçº§å‘¢ï¼Ÿç›¸ä¿¡æˆ‘ï¼Œä½ åœ¨æ”¹ä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼ˆæ¯”å¦‚ <code>antd</code> ğŸ˜‚ï¼‰æ ·å¼æ—¶ï¼Œç†è§£è¿™ä¸ªä¼šå¸®åŠ©å¾ˆå¤§ï¼</p><p>è¿™ç¯‡æ–‡ç« å†™çš„éå¸¸æ¸…æ™°æ˜“æ‡‚ï¼Œå¼ºçƒˆæ¨èï¼Œçœ‹å®Œä¹‹åå°±æ²¡å•¥é—®é¢˜äº†ï¼š<a href="https://juejin.cn/post/6844903709772611592" target="_blank" rel="noreferrer">æ·±å…¥ç†è§£ CSS é€‰æ‹©å™¨ä¼˜å…ˆçº§</a>ã€‚</p><p>ä¸Šè¿°æ–‡ç« ä¸­æ ¸å¿ƒå†…å®¹ï¼š ä¼˜å…ˆçº§æ˜¯ç”± A ã€Bã€Cã€D çš„å€¼æ¥å†³å®šçš„ï¼Œå…¶ä¸­å®ƒä»¬çš„å€¼è®¡ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœå­˜åœ¨å†…è”æ ·å¼ï¼Œé‚£ä¹ˆ A = 1ï¼Œå¦åˆ™ A = 0 ï¼›</li><li>B çš„å€¼ç­‰äº ID é€‰æ‹©å™¨ï¼ˆ#idï¼‰ å‡ºç°çš„æ¬¡æ•°ï¼›</li><li>C çš„å€¼ç­‰äº ç±»é€‰æ‹©å™¨ï¼ˆ.classï¼‰ å’Œ å±æ€§é€‰æ‹©å™¨ï¼ˆa[href=&quot;<a href="https://example.org" target="_blank" rel="noreferrer">https://example.org</a>&quot;]ï¼‰ å’Œ ä¼ªç±»ï¼ˆ:first-childï¼‰ å‡ºç°çš„æ€»æ¬¡æ•°ï¼›</li><li>D çš„å€¼ç­‰äº æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆh1,a,divï¼‰ å’Œ ä¼ªå…ƒç´ ï¼ˆ::before,::afterï¼‰ å‡ºç°çš„æ€»æ¬¡æ•°ã€‚</li></ul><p>ä»å·¦è‡³å³æ¯”è¾ƒï¼Œå¦‚æœæ˜¯æ ·å¼ä¼˜å…ˆçº§ç›¸ç­‰ï¼Œå–åé¢å‡ºç°çš„æ ·å¼ã€‚</p><h3 id="_3-é‡æ’-reflow-å’Œé‡ç»˜-repaint-çš„ç†è§£" tabindex="-1">3. é‡æ’ï¼ˆreflowï¼‰å’Œé‡ç»˜ï¼ˆrepaintï¼‰çš„ç†è§£ <a class="header-anchor" href="#_3-é‡æ’-reflow-å’Œé‡ç»˜-repaint-çš„ç†è§£" aria-hidden="true">#</a></h3><p>ç®€å•åœ°æ€»ç»“ä¸‹ä¸¤è€…çš„æ¦‚å¿µï¼š</p><ul><li>é‡æ’ï¼šæ— è®ºé€šè¿‡ä»€ä¹ˆæ–¹å¼å½±å“äº†å…ƒç´ çš„å‡ ä½•ä¿¡æ¯(å…ƒç´ åœ¨è§†å£å†…çš„ä½ç½®å’Œå°ºå¯¸å¤§å°)ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ åœ¨è§†å£å†…çš„å‡ ä½•å±æ€§ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé‡æ’ã€‚</li><li>é‡ç»˜ï¼šé€šè¿‡æ„é€ æ¸²æŸ“æ ‘å’Œé‡æ’ï¼ˆå›æµï¼‰é˜¶æ®µï¼Œæˆ‘ä»¬çŸ¥é“äº†å“ªäº›èŠ‚ç‚¹æ˜¯å¯è§çš„ï¼Œä»¥åŠå¯è§èŠ‚ç‚¹çš„æ ·å¼å’Œå…·ä½“çš„å‡ ä½•ä¿¡æ¯(å…ƒç´ åœ¨è§†å£å†…çš„ä½ç½®å’Œå°ºå¯¸å¤§å°)ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å°†æ¸²æŸ“æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è½¬æ¢ä¸ºå±å¹•ä¸Šçš„å®é™…åƒç´ ï¼Œè¿™ä¸ªé˜¶æ®µå°±å«åšé‡ç»˜ã€‚</li></ul><p>å¦‚ä½•å‡å°‘é‡æ’å’Œé‡ç»˜ï¼Ÿ</p><ul><li>æœ€å°åŒ–é‡ç»˜å’Œé‡æ’ï¼Œæ¯”å¦‚æ ·å¼é›†ä¸­æ”¹å˜ï¼Œä½¿ç”¨æ·»åŠ æ–°æ ·å¼ç±»å <code>.class</code> æˆ– <code>cssText</code> ã€‚</li><li>æ‰¹é‡æ“ä½œ DOMï¼Œæ¯”å¦‚è¯»å–æŸå…ƒç´  <code>offsetWidth</code> å±æ€§å­˜åˆ°ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œå†å»ä½¿ç”¨ï¼Œè€Œä¸æ˜¯é¢‘ç¹ä½¿ç”¨è¿™ä¸ªè®¡ç®—å±æ€§ï¼›åˆæ¯”å¦‚åˆ©ç”¨ <code>document</code>.- <code>createDocumentFragment()</code> æ¥æ·»åŠ è¦è¢«æ·»åŠ çš„èŠ‚ç‚¹ï¼Œå¤„ç†å®Œä¹‹åå†æ’å…¥åˆ°å®é™… <code>DOM</code> ä¸­ã€‚</li><li>ä½¿ç”¨ <strong>absolute</strong> æˆ– <strong>fixed</strong> ä½¿å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œè¿™åœ¨åˆ¶ä½œå¤æ‚çš„åŠ¨ç”»æ—¶å¯¹æ€§èƒ½çš„å½±å“æ¯”è¾ƒæ˜æ˜¾ã€‚</li><li>å¼€å¯ GPU åŠ é€Ÿï¼Œåˆ©ç”¨ <code>css</code> å±æ€§ <code>transform</code> ã€<code>will-change</code> ç­‰ï¼Œæ¯”å¦‚æ”¹å˜å…ƒç´ ä½ç½®ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>translate</code> ä¼šæ¯”ä½¿ç”¨ç»å¯¹å®šä½æ”¹å˜å…¶ <code>left</code> <code>ã€top</code> <code>ç­‰æ¥çš„é«˜æ•ˆï¼Œå› ä¸ºå®ƒä¸ä¼šè§¦å‘é‡æ’æˆ–é‡ç»˜ï¼Œtransform</code> ä½¿æµè§ˆå™¨ä¸ºå…ƒç´ åˆ›å»ºâ¼€ä¸ª GPU å›¾å±‚ï¼Œè¿™ä½¿å¾—åŠ¨ç”»å…ƒç´ åœ¨ä¸€ä¸ªç‹¬ç«‹çš„å±‚ä¸­è¿›è¡Œæ¸²æŸ“ã€‚å½“å…ƒç´ çš„å†…å®¹æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±æ²¡æœ‰å¿…è¦è¿›è¡Œé‡ç»˜ã€‚</li></ul><p>è¿™é‡Œæ¨èè…¾è®¯ IVWEB å›¢é˜Ÿçš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6844903779700047885" target="_blank" rel="noreferrer">ä½ çœŸçš„äº†è§£å›æµå’Œé‡ç»˜å—</a>ï¼Œå¥½å¥½è®¤çœŸçœ‹å®Œï¼Œé¢è¯•åº”è¯¥æ²¡é—®é¢˜çš„ã€‚</p><h3 id="_4-å¯¹-bfc-çš„ç†è§£" tabindex="-1">4. å¯¹ BFC çš„ç†è§£ <a class="header-anchor" href="#_4-å¯¹-bfc-çš„ç†è§£" aria-hidden="true">#</a></h3><p>BFC å³å—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼Œæ ¹æ®ç›’æ¨¡å‹å¯çŸ¥ï¼Œæ¯ä¸ªå…ƒç´ éƒ½è¢«å®šä¹‰ä¸ºä¸€ä¸ªçŸ©å½¢ç›’å­ï¼Œç„¶è€Œç›’å­çš„å¸ƒå±€ä¼šå—åˆ°<strong>å°ºå¯¸</strong>ï¼Œ<strong>å®šä½</strong>ï¼Œ<strong>ç›’å­çš„å­å…ƒç´ æˆ–å…„å¼Ÿå…ƒç´ </strong>ï¼Œ<strong>è§†å£çš„å°ºå¯¸ç­‰å› ç´ å†³å®š</strong>ï¼Œæ‰€ä»¥è¿™é‡Œæœ‰ä¸€ä¸ªæµè§ˆå™¨è®¡ç®—çš„è¿‡ç¨‹ï¼Œè®¡ç®—çš„è§„åˆ™å°±æ˜¯ç”±ä¸€ä¸ªå«åš<strong>è§†è§‰æ ¼å¼åŒ–æ¨¡å‹</strong>çš„ä¸œè¥¿æ‰€å®šä¹‰çš„ï¼ŒBFC å°±æ˜¯æ¥è‡ªè¿™ä¸ªæ¦‚å¿µï¼Œå®ƒæ˜¯ CSS è§†è§‰æ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œ<strong>ç”¨äºå†³å®šå—çº§ç›’çš„å¸ƒå±€åŠæµ®åŠ¨ç›¸äº’å½±å“èŒƒå›´çš„ä¸€ä¸ªåŒºåŸŸ</strong>ã€‚</p><p>BFC å…·æœ‰ä¸€äº›ç‰¹æ€§ï¼š</p><ul><li>å—çº§å…ƒç´ ä¼šåœ¨å‚ç›´æ–¹å‘ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ’åˆ—ï¼Œå’Œæ–‡æ¡£æµçš„æ’åˆ—æ–¹å¼ä¸€è‡´ã€‚</li><li>åœ¨ BFC ä¸­ä¸Šä¸‹ç›¸é‚»çš„ä¸¤ä¸ªå®¹å™¨çš„ marginÂ  ä¼šé‡å ï¼Œåˆ›å»ºæ–°çš„ BFC å¯ä»¥é¿å…å¤–è¾¹è·é‡å ã€‚</li><li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œéœ€è¦è®¡ç®—æµ®åŠ¨å…ƒç´ çš„é«˜åº¦ã€‚</li><li>BFC åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨çš„å®¹å™¨å‘ç”Ÿé‡å ã€‚</li><li>BFC æ˜¯ç‹¬ç«‹çš„å®¹å™¨ï¼Œå®¹å™¨å†…éƒ¨å…ƒç´ ä¸ä¼šå½±å“å¤–éƒ¨å…ƒç´ ã€‚</li><li>æ¯ä¸ªå…ƒç´ çš„å·¦ marginÂ  å€¼å’Œå®¹å™¨çš„å·¦ borderÂ  ç›¸æ¥è§¦ã€‚</li></ul><p>åˆ©ç”¨è¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>åˆ©ç”¨ 4Â  å’Œ 6Â ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸‰æ ï¼ˆæˆ–ä¸¤æ ï¼‰è‡ªé€‚åº”å¸ƒå±€ã€‚</li><li>åˆ©ç”¨ 2Â ï¼Œæˆ‘ä»¬å¯ä»¥é¿å… marginÂ  é‡å é—®é¢˜ã€‚</li><li>åˆ©ç”¨ 3Â ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…é«˜åº¦å¡Œé™·ã€‚</li></ul><p>åˆ›å»º BFC çš„æ–¹å¼ï¼š</p><ul><li>ç»å¯¹å®šä½å…ƒç´ ï¼ˆposition ä¸º absolute æˆ– fixed ï¼‰ã€‚</li><li>è¡Œå†…å—å…ƒç´ ï¼Œå³ display ä¸º inline-block ã€‚</li><li>overflow çš„å€¼ä¸ä¸º visible ã€‚</li></ul><p>æ¨èæ–‡ç« ï¼š<a href="https://juejin.cn/post/6960866014384881671" target="_blank" rel="noreferrer">å¯èƒ½æ˜¯æœ€å¥½çš„ BFC è§£æäº†...</a></p><h3 id="_5-å®ç°ä¸¤æ å¸ƒå±€-å·¦ä¾§å›ºå®š-å³ä¾§è‡ªé€‚åº”å¸ƒå±€" tabindex="-1">5. å®ç°ä¸¤æ å¸ƒå±€ï¼ˆå·¦ä¾§å›ºå®š + å³ä¾§è‡ªé€‚åº”å¸ƒå±€ï¼‰ <a class="header-anchor" href="#_5-å®ç°ä¸¤æ å¸ƒå±€-å·¦ä¾§å›ºå®š-å³ä¾§è‡ªé€‚åº”å¸ƒå±€" aria-hidden="true">#</a></h3><p>ç°åœ¨æœ‰ä»¥ä¸‹ DOM ç»“æ„ï¼š</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">outer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">left</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">å·¦ä¾§</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">right</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">å³ä¾§</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><ol><li>åˆ©ç”¨æµ®åŠ¨ï¼Œå·¦è¾¹å…ƒç´ å®½åº¦å›ºå®š ï¼Œè®¾ç½®å‘å·¦æµ®åŠ¨ã€‚å°†å³è¾¹å…ƒç´ çš„ <code>margin-left</code> è®¾ä¸ºå›ºå®šå®½åº¦ ã€‚æ³¨æ„ï¼Œå› ä¸ºå³è¾¹å…ƒç´ çš„ width é»˜è®¤ä¸º <code>auto</code> ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨æ’‘æ»¡çˆ¶å…ƒç´ ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">outer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">float</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> left</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcoral</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightseagreen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>åŒæ ·åˆ©ç”¨æµ®åŠ¨ï¼Œå·¦è¾¹å…ƒç´ å®½åº¦å›ºå®š ï¼Œè®¾ç½®å‘å·¦æµ®åŠ¨ã€‚å³ä¾§å…ƒç´ è®¾ç½® <code>overflow: hidden</code>; è¿™æ ·å³è¾¹å°±è§¦å‘äº† <code>BFC</code> ï¼ŒBFC çš„åŒºåŸŸä¸ä¼šä¸æµ®åŠ¨å…ƒç´ å‘ç”Ÿé‡å ï¼Œæ‰€ä»¥ä¸¤ä¾§å°±ä¸ä¼šå‘ç”Ÿé‡å ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">outer </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">float</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> left</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcoral</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">overflow</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> auto</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightseagreen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>åˆ©ç”¨ <code>flex</code> å¸ƒå±€ï¼Œå·¦è¾¹å…ƒç´ å›ºå®šå®½åº¦ï¼Œå³è¾¹çš„å…ƒç´ è®¾ç½® <code>flex: 1</code> ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">outer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> flex</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcoral</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">flex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightseagreen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œçˆ¶çº§å…ƒç´ è®¾ä¸ºç›¸å¯¹å®šä½ã€‚å·¦è¾¹å…ƒç´  <code>absolute</code> å®šä½ï¼Œå®½åº¦å›ºå®šã€‚å³è¾¹å…ƒç´ çš„ <code>margin-left</code> çš„å€¼è®¾ä¸ºå·¦è¾¹å…ƒç´ çš„å®½åº¦å€¼ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">outer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> absolute</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcoral</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightseagreen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="5"><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œçˆ¶çº§å…ƒç´ è®¾ä¸ºç›¸å¯¹å®šä½ã€‚å·¦è¾¹å…ƒç´ å®½åº¦å›ºå®šï¼Œå³è¾¹å…ƒç´  <code>absolute</code> å®šä½ï¼Œ <code>left</code> ä¸ºå®½åº¦å¤§å°ï¼Œå…¶ä½™æ–¹å‘å®šä½ä¸º 0 ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">outer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcoral</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> absolute</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">bottom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightseagreen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_6-å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€-ç»å…¸ä¸‰åˆ†æ å¸ƒå±€" tabindex="-1">6. å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€ï¼ˆç»å…¸ä¸‰åˆ†æ å¸ƒå±€ï¼‰ <a class="header-anchor" href="#_6-å®ç°åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€-ç»å…¸ä¸‰åˆ†æ å¸ƒå±€" aria-hidden="true">#</a></h3><p>åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€çš„ç›®çš„ï¼š</p><ul><li>ä¸‰æ å¸ƒå±€ï¼Œä¸­é—´ä¸€æ æœ€å…ˆåŠ è½½å’Œæ¸²æŸ“ï¼ˆå†…å®¹æœ€é‡è¦ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¿˜éœ€è¦äº†è§£è¿™ç§å¸ƒå±€çš„åŸå› ï¼‰ã€‚</li><li>ä¸¤ä¾§å†…å®¹å›ºå®šï¼Œä¸­é—´å†…å®¹éšç€å®½åº¦è‡ªé€‚åº”ã€‚</li><li>ä¸€èˆ¬ç”¨äº PC ç½‘é¡µã€‚</li></ul><p>åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€çš„æŠ€æœ¯æ€»ç»“ï¼š</p><ul><li>ä½¿ç”¨ float å¸ƒå±€ã€‚</li><li>ä¸¤ä¾§ä½¿ç”¨ margin è´Ÿå€¼ï¼Œä»¥ä¾¿å’Œä¸­é—´å†…å®¹æ¨ªå‘é‡å ã€‚</li><li>é˜²æ­¢ä¸­é—´å†…å®¹è¢«ä¸¤ä¾§è¦†ç›–ï¼Œåœ£æ¯å¸ƒå±€ç”¨ padding ï¼ŒåŒé£ç¿¼å¸ƒå±€ç”¨ margin ã€‚</li></ul><p><strong>åœ£æ¯å¸ƒå±€</strong>ï¼š HTML ç»“æ„ï¼š</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">clearfix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">æˆ‘æ˜¯ä¸­é—´</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">left</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">æˆ‘æ˜¯å·¦è¾¹</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">right</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">æˆ‘æ˜¯å³è¾¹</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>CSS æ ·å¼ï¼š</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">150px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">overflow</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> auto</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">container</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">float</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> left</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">center</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcoral</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightcyan</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">150px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-150px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightgreen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">clearfix</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">after</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> table</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">clear</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> both</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><strong>åŒé£ç¿¼å¸ƒå±€ï¼š</strong> HTML ç»“æ„ï¼š</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">float</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">main-wrap</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">main</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">left</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">float</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">left</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">right</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">float</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">right</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>CSS æ ·å¼ï¼š</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">float</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">float</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> left</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">main</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightpink</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">main-wrap</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">190px</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">190px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">left</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">190px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightsalmon</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-100%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">right</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">190px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">background-color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> lightskyblue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-190px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>tipsï¼šä¸Šè¿°ä»£ç ä¸­ <code>margin-left: -100%</code> ç›¸å¯¹çš„æ˜¯çˆ¶å…ƒç´ çš„ <code>content</code> å®½åº¦ï¼Œå³ä¸åŒ…å«<code> paddig</code> ã€ <code>border</code> çš„å®½åº¦ã€‚</p><p>å…¶å®ä»¥ä¸Šé—®é¢˜éœ€è¦æŒæ¡ <strong>margin è´Ÿå€¼é—®é¢˜</strong> å³å¯å¾ˆå¥½ç†è§£ã€‚</p><h3 id="_7-æ°´å¹³å‚ç›´å±…ä¸­å¤šç§å®ç°æ–¹å¼" tabindex="-1">7. æ°´å¹³å‚ç›´å±…ä¸­å¤šç§å®ç°æ–¹å¼ <a class="header-anchor" href="#_7-æ°´å¹³å‚ç›´å±…ä¸­å¤šç§å®ç°æ–¹å¼" aria-hidden="true">#</a></h3><ol><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œè®¾ç½® <code>left: 50%</code> å’Œ <code>top: 50%</code> ç°å°†å­å…ƒç´ å·¦ä¸Šè§’ç§»åˆ°çˆ¶å…ƒç´ ä¸­å¿ƒä½ç½®ï¼Œç„¶åå†é€šè¿‡ <code>translate</code> æ¥è°ƒæ•´å­å…ƒç´ çš„ä¸­å¿ƒç‚¹åˆ°çˆ¶å…ƒç´ çš„ä¸­å¿ƒã€‚è¯¥æ–¹æ³•å¯ä»¥ä¸å®šå®½é«˜ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">father</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">son</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> absolute</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">transform</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">translate</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">-50%</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-50%</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œå­å…ƒç´ æ‰€æœ‰æ–¹å‘éƒ½ä¸º 0 ï¼Œå°† <code>margin</code> è®¾ç½®ä¸º <code>auto</code> ï¼Œç”±äºå®½é«˜å›ºå®šï¼Œå¯¹åº”æ–¹å‘å®ç°å¹³åˆ†ï¼Œè¯¥æ–¹æ³•å¿…é¡»ç›’å­æœ‰å®½é«˜ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">father</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">son</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> absolute</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">bottom</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> auto</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>åˆ©ç”¨ç»å¯¹å®šä½ï¼Œè®¾ç½® <code>left: 50%</code> å’Œ <code>top: 50%</code> ç°å°†å­å…ƒç´ å·¦ä¸Šè§’ç§»åˆ°çˆ¶å…ƒç´ ä¸­å¿ƒä½ç½®ï¼Œç„¶åå†é€šè¿‡ <code>margin-left</code> å’Œ <code>margin-top</code> ä»¥å­å…ƒç´ è‡ªå·±çš„ä¸€åŠå®½é«˜è¿›è¡Œè´Ÿå€¼èµ‹å€¼ã€‚è¯¥æ–¹æ³•å¿…é¡»å®šå®½é«˜ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">father</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> relative</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">son</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> absolute</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">50%</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">-100px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li>åˆ©ç”¨ <code>flex</code> ï¼Œæœ€ç»å…¸æœ€æ–¹ä¾¿çš„ä¸€ç§äº†ï¼Œä¸ç”¨è§£é‡Šï¼Œå®šä¸å®šå®½é«˜æ— æ‰€è°“çš„ã€‚</li></ol><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">father</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> flex</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">justify-content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> center</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">align-items</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> center</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>å…¶å®è¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚ <code>display: grid</code> æˆ– <code>display: table-cell</code> æ¥åšï¼Œæœ‰å…´è¶£ç‚¹å‡»ä¸‹é¢è¿™ç¯‡æ–‡ç« å¯ä»¥äº†è§£ä¸‹ï¼š <a href="https://juejin.cn/post/6844903982960214029" target="_blank" rel="noreferrer">é¢è¯•å®˜ï¼šä½ èƒ½å®ç°å¤šå°‘ç§æ°´å¹³å‚ç›´å±…ä¸­çš„å¸ƒå±€ï¼ˆå®šå®½é«˜å’Œä¸å®šå®½é«˜ï¼‰ã€‚</a></p><h3 id="_8-flex-å¸ƒå±€" tabindex="-1">8. <code>flex</code> å¸ƒå±€ <a class="header-anchor" href="#_8-flex-å¸ƒå±€" aria-hidden="true">#</a></h3><p>è¿™ä¸€å—å†…å®¹çœ‹ <a href="https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noreferrer">Flex å¸ƒå±€æ•™ç¨‹</a> å°±å¤Ÿäº†ã€‚</p><p>è¿™é‡Œæœ‰ä¸ªå°é—®é¢˜ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šç”¨åˆ° <code>flex: 1 </code>ï¼Œå®ƒå…·ä½“åŒ…å«äº†ä»¥ä¸‹çš„æ„æ€ï¼š</p><ul><li><code>flex-grow: 1</code>Â ï¼šè¯¥å±æ€§é»˜è®¤ä¸º 0Â ï¼Œå¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œå…ƒç´ ä¹Ÿä¸æ”¾å¤§ã€‚è®¾ç½®ä¸º 1Â  ä»£è¡¨ä¼šæ”¾å¤§ã€‚</li><li><code>flex-shrink: 1</code>Â ï¼šè¯¥å±æ€§é»˜è®¤ä¸º 1Â ï¼Œå¦‚æœç©ºé—´ä¸è¶³ï¼Œå…ƒç´ ç¼©å°ã€‚</li><li><code>flex-basis: 0%</code>Â ï¼šè¯¥å±æ€§å®šä¹‰åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œå…ƒç´ å æ®çš„ä¸»è½´ç©ºé—´ã€‚æµè§ˆå™¨å°±æ˜¯æ ¹æ®è¿™ä¸ªå±æ€§æ¥è®¡ç®—æ˜¯å¦æœ‰å¤šä½™ç©ºé—´çš„ã€‚é»˜è®¤å€¼ä¸º <code>auto</code>Â ï¼Œå³é¡¹ç›®æœ¬èº«å¤§å°ã€‚è®¾ç½®ä¸º 0%Â  ä¹‹åï¼Œå› ä¸ºæœ‰ <code>flex-grow</code>Â  å’Œ <code>flex-shrink</code>Â  çš„è®¾ç½®ä¼šè‡ªåŠ¨æ”¾å¤§æˆ–ç¼©å°ã€‚åœ¨åšä¸¤æ å¸ƒå±€æ—¶ï¼Œå¦‚æœå³è¾¹çš„è‡ªé€‚åº”å…ƒç´  <code>flex-basis</code>Â  è®¾ä¸º <code>autoÂ </code> çš„è¯ï¼Œå…¶æœ¬èº«å¤§å°å°†ä¼šæ˜¯ 0Â ã€‚â€‹</li></ul><h3 id="_9-line-height-å¦‚ä½•ç»§æ‰¿" tabindex="-1">9. line-height å¦‚ä½•ç»§æ‰¿ï¼Ÿ <a class="header-anchor" href="#_9-line-height-å¦‚ä½•ç»§æ‰¿" aria-hidden="true">#</a></h3><ul><li>çˆ¶å…ƒç´ çš„ <code>line-height</code> å†™äº†å…·ä½“æ•°å€¼ï¼Œæ¯”å¦‚ 30pxï¼Œåˆ™å­å…ƒç´  <code>line-height</code> ç»§æ‰¿è¯¥å€¼ã€‚</li><li>çˆ¶å…ƒç´ çš„ <code>line-height</code> å†™äº†æ¯”ä¾‹ï¼Œæ¯”å¦‚ 1.5 æˆ– 2ï¼Œåˆ™å­å…ƒç´  <code>line-height</code> ä¹Ÿæ˜¯ç»§æ‰¿è¯¥æ¯”ä¾‹ã€‚</li><li>çˆ¶å…ƒç´ çš„ <code>line-height</code> å†™äº†ç™¾åˆ†æ¯”ï¼Œæ¯”å¦‚ 200%ï¼Œåˆ™å­å…ƒç´  <code>line-height</code> ç»§æ‰¿çš„æ˜¯çˆ¶å…ƒç´  font-size * 200% è®¡ç®—å‡ºæ¥çš„å€¼ã€‚</li></ul><h2 id="_3-js-åŸºç¡€" tabindex="-1">3. JS åŸºç¡€ <a class="header-anchor" href="#_3-js-åŸºç¡€" aria-hidden="true">#</a></h2><p>js çš„è€ƒå¯Ÿå…¶å®æ¥å›å°±é‚£äº›ä¸œè¥¿ï¼Œä¸è¿‡å°±æˆ‘è‡ªå·±è€Œå·²å­¦ä¹ çš„æ—¶å€™ç†è§£æ˜¯çœŸçš„ç†è§£äº†ï¼Œä½†æ˜¯å¿˜ä¹Ÿç¡®å®ä¼šå¿˜ï¼ˆå¤§å®¶éƒ½è¯´ç†è§£äº†ä¸€å®šä¸ä¼šå¿˜ï¼Œä½†æ˜¯è¦ç­”å…¨çš„è¯è¿˜æ˜¯éœ€è¦ç†è§£+èƒŒï¼‰ã€‚</p><h3 id="_1-æ•°æ®ç±»å‹" tabindex="-1">1. æ•°æ®ç±»å‹ <a class="header-anchor" href="#_1-æ•°æ®ç±»å‹" aria-hidden="true">#</a></h3><p>1.1 åŸºæœ¬çš„æ•°æ®ç±»å‹ä»‹ç»ï¼ŒåŠå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„ç†è§£</p><p>åœ¨ JS ä¸­å…±æœ‰ 8 ç§åŸºç¡€çš„æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«ä¸ºï¼š <code>Undefined</code> ã€ <code>Null</code> ã€ <code>Boolean</code> ã€ <code>Number</code> ã€ <code>String</code> ã€ <code>Object</code> ã€ <code>Symbol</code> ã€ <code>BigInt</code> ã€‚</p><p>å…¶ä¸­ <code>Symbol</code> å’Œ <code>BigInt</code> æ˜¯ ES6 æ–°å¢çš„æ•°æ®ç±»å‹ï¼Œå¯èƒ½ä¼šè¢«å•ç‹¬é—®ï¼š</p><ul><li><code>Symbol</code> ä»£è¡¨ç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œæœ€å¤§çš„ç”¨æ³•æ˜¯ç”¨æ¥å®šä¹‰å¯¹è±¡çš„å”¯ä¸€å±æ€§åã€‚</li><li><code>BigInt</code> å¯ä»¥è¡¨ç¤ºä»»æ„å¤§å°çš„æ•´æ•°ã€‚</li></ul><p><strong>å€¼ç±»å‹çš„èµ‹å€¼å˜åŠ¨è¿‡ç¨‹å¦‚ä¸‹ï¼š</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(b)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 100</span></span>
<span class="line"></span></code></pre></div><p>å€¼ç±»å‹æ˜¯ç›´æ¥å­˜å‚¨åœ¨**æ ˆï¼ˆstackï¼‰**ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ï¼›</p><p><strong>å¼•ç”¨ç±»å‹çš„èµ‹å€¼å˜åŠ¨è¿‡ç¨‹å¦‚ä¸‹ï¼š</strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">30</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">age)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 30</span></span>
<span class="line"></span></code></pre></div><p>å¼•ç”¨ç±»å‹å­˜å‚¨åœ¨**å †ï¼ˆheapï¼‰**ä¸­çš„å¯¹è±¡ï¼Œå æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¦‚æœå­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°†ä¼šå½±å“ç¨‹åºè¿è¡Œçš„æ€§èƒ½ï¼›</p><p>1.2 æ•°æ®ç±»å‹çš„åˆ¤æ–­</p><ul><li><code>typeof</code>ï¼šèƒ½åˆ¤æ–­æ‰€æœ‰å€¼ç±»å‹ï¼Œå‡½æ•°ã€‚ä¸å¯å¯¹ <code>null</code>ã€å¯¹è±¡ã€æ•°ç»„è¿›è¡Œç²¾ç¡®åˆ¤æ–­ï¼Œå› ä¸ºéƒ½è¿”å› <code>object</code> ã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// number</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">str</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// string</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// symbol</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2172141653</span><span style="color:#C792EA;">n</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// bigint</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// function</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸èƒ½åˆ¤åˆ«</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> [])</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// object</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// object</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// object</span></span>
<span class="line"></span></code></pre></div><ul><li>instanceofï¼šèƒ½åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼Œä¸èƒ½åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå…¶å†…éƒ¨è¿è¡Œæœºåˆ¶æ˜¯åˆ¤æ–­åœ¨å…¶åŸå‹é“¾ä¸­èƒ½å¦æ‰¾åˆ°è¯¥ç±»å‹çš„åŸå‹ã€‚æ¯”å¦‚è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">People</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Student</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">People</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> vortesnail </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Student</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(vortesnail </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">People</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(vortesnail </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Student</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span></code></pre></div><p>å…¶å®ç°å°±æ˜¯é¡ºç€åŸå‹é“¾å»æ‰¾ï¼Œå¦‚æœèƒ½æ‰¾åˆ°å¯¹åº”çš„ Xxxxx.prototypeÂ  å³ä¸º trueÂ ã€‚æ¯”å¦‚è¿™é‡Œçš„ <code>vortesnailÂ </code> ä½œä¸ºå®ä¾‹ï¼Œé¡ºç€åŸå‹é“¾èƒ½æ‰¾åˆ° <code>Student.prototype</code>Â  åŠ <code>People.prototype</code>Â ï¼Œæ‰€ä»¥éƒ½ä¸º <code>true</code>Â ã€‚</p><ul><li><code>Object.prototype.toString.call()</code>ï¼šæ‰€æœ‰åŸå§‹æ•°æ®ç±»å‹éƒ½æ˜¯èƒ½åˆ¤æ–­çš„ï¼Œè¿˜æœ‰ <code>Error</code> <code>å¯¹è±¡ï¼ŒDate</code> å¯¹è±¡ç­‰ã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Number]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object String]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Boolean]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">undefined</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Undefined]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">null</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Null]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(Math)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Math]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Object]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">([])</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Array]&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Function]&quot;</span></span>
<span class="line"></span></code></pre></div><p>åœ¨é¢è¯•ä¸­æœ‰ä¸€ä¸ªç»å¸¸è¢«é—®çš„é—®é¢˜å°±æ˜¯ï¼šå¦‚ä½•åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°ç»„ï¼Ÿ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#A6ACCD;">(arr)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__ </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">arr </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(arr)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// &quot;[object Array]&quot;</span></span>
<span class="line"></span></code></pre></div><p>1.3 æ‰‹å†™æ·±æ‹·è´</p><p>è¿™ä¸ªé¢˜ä¸€å®šè¦ä¼šå•Šï¼ç¬”è€…é¢è¯•è¿‡ç¨‹ä¸­ç–¯ç‹‚è¢«é—®åˆ°ï¼</p><p>æ–‡ç« æ¨èï¼š<a href="https://juejin.cn/post/6844903929705136141" target="_blank" rel="noreferrer">å¦‚ä½•å†™å‡ºä¸€ä¸ªæƒŠè‰³é¢è¯•å®˜çš„æ·±æ‹·è´?</a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * æ·±æ‹·è´</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">Object</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#676E95;font-style:italic;"> è¦æ‹·è´çš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">Map</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">map</span><span style="color:#676E95;font-style:italic;"> ç”¨äºå­˜å‚¨å¾ªç¯å¼•ç”¨å¯¹è±¡çš„åœ°å€</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">deepClone</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">map</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Map</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆå§‹åŒ–è¿”å›ç»“æœ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åŠ  || çš„åŸå› æ˜¯ä¸ºäº†é˜²æ­¢ Array çš„ prototype è¢«é‡å†™ï¼ŒArray.isArray ä¹Ÿæ˜¯å¦‚æ­¤</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[object Array]</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">  ) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// é˜²æ­¢å¾ªç¯å¼•ç”¨</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä¿è¯ key ä¸æ˜¯åŸå‹å±æ€§</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hasOwnProperty</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// é€’å½’è°ƒç”¨</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">deepClone</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">map</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿”å›ç»“æœ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>1.4 æ ¹æ® 0.1+0.2 ! == 0.3ï¼Œè®²è®² IEEE 754 ï¼Œå¦‚ä½•è®©å…¶ç›¸ç­‰ï¼Ÿ</p><p>å»ºè®®å…ˆé˜…è¯»è¿™ç¯‡æ–‡ç« äº†è§£ IEEE 754 ï¼š<a href="https://juejin.cn/post/6940405970954616839" target="_blank" rel="noreferrer">ç¡¬æ ¸åŸºç¡€äºŒè¿›åˆ¶ç¯‡ï¼ˆä¸€ï¼‰0.1 + 0.2 != 0.3 å’Œ IEEE-754 æ ‡å‡†</a>ã€‚ å†é˜…è¯»è¿™ç¯‡æ–‡ç« äº†è§£å¦‚ä½•è¿ç®—ï¼š<a href="https://juejin.cn/post/6844903680362151950" target="_blank" rel="noreferrer">0.1 + 0.2 ä¸ç­‰äº 0.3ï¼Ÿä¸ºä»€ä¹ˆ JavaScript æœ‰è¿™ç§â€œéªšâ€æ“ä½œï¼Ÿ</a>ã€‚â€‹</p><p>åŸå› æ€»ç»“ï¼š</p><ul><li><p><strong>è¿›åˆ¶è½¬æ¢</strong> ï¼šjs åœ¨åšæ•°å­—è®¡ç®—çš„æ—¶å€™ï¼Œ0.1 å’Œ 0.2 éƒ½ä¼šè¢«è½¬æˆäºŒè¿›åˆ¶åæ— é™å¾ªç¯ ï¼Œä½†æ˜¯ js é‡‡ç”¨çš„ IEEE 754 äºŒè¿›åˆ¶æµ®ç‚¹è¿ç®—ï¼Œæœ€å¤§å¯ä»¥å­˜å‚¨ 53 ä½æœ‰æ•ˆæ•°å­—ï¼Œäºæ˜¯å¤§äº 53 ä½åé¢çš„ä¼šå…¨éƒ¨æˆªæ‰ï¼Œå°†å¯¼è‡´ç²¾åº¦ä¸¢å¤±ã€‚</p></li><li><p><strong>å¯¹é˜¶è¿ç®—</strong> ï¼šç”±äºæŒ‡æ•°ä½æ•°ä¸ç›¸åŒï¼Œè¿ç®—æ—¶éœ€è¦å¯¹é˜¶è¿ç®—ï¼Œé˜¶å°çš„å°¾æ•°è¦æ ¹æ®é˜¶å·®æ¥å³ç§»ï¼ˆ0 èˆ 1 å…¥ï¼‰ï¼Œå°¾æ•°ä½ç§»æ—¶å¯èƒ½ä¼šå‘ç”Ÿæ•°ä¸¢å¤±çš„æƒ…å†µï¼Œå½±å“ç²¾åº¦ã€‚</p></li></ul><p>è§£å†³åŠæ³•ï¼š</p><ol><li>è½¬ä¸ºæ•´æ•°ï¼ˆå¤§æ•°ï¼‰è¿ç®—ã€‚</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">maxLen</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">max</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">**</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">maxLen</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bigA</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">BigInt</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bigB</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">BigInt</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bigRes</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">bigA</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bigB</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">BigInt</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚æœæ˜¯ (1n + 2n) / 10n æ˜¯ç­‰äº 0nçš„ã€‚ã€‚ã€‚</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">bigRes</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œä»£ç æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæœ€åè®¡ç®— bigRes çš„å¤§æ•°ç›¸é™¤ï¼ˆå³ /ï¼‰æ˜¯ä¼šæŠŠå°æ•°éƒ¨åˆ†æˆªæ‰çš„ï¼Œæ‰€ä»¥æˆ‘å¾ˆç–‘æƒ‘ä¸ºä»€ä¹ˆç½‘ç»œä¸Šå¾ˆå¤šæ–‡ç« éƒ½è¯´å¯ä»¥é€šè¿‡å…ˆè½¬ä¸ºæ•´æ•°è¿ç®—å†é™¤å›å»ï¼Œä¸ºäº†é˜²æ­¢è½¬ä¸ºçš„æ•´æ•°è¶…å‡º js è¡¨ç¤ºèŒƒå›´ï¼Œè¿˜å¯ä»¥è¿ç”¨åˆ° ES6 æ–°å¢çš„å¤§æ•°ç±»å‹ï¼Œæˆ‘çœŸçš„å¾ˆç–‘æƒ‘ï¼Œå¸Œæœ›æœ‰å¥½å¿ƒäººèƒ½è§£ç­”ä¸‹ã€‚</p><ol start="2"><li>ä½¿ç”¨ Number.EPSILON è¯¯å·®èŒƒå›´</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isEqual</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">abs</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Number</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">EPSILON</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">isEqual</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span></code></pre></div><p>Number.EPSILON çš„å®è´¨æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´ï¼Œä¸€èˆ¬æ¥è¯´ä¸º Math.pow(2, -52) ã€‚â€‹ 3. è½¬æˆå­—ç¬¦ä¸²ï¼Œå¯¹å­—ç¬¦ä¸²åšåŠ æ³•è¿ç®—ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å­—ç¬¦ä¸²æ•°å­—ç›¸åŠ </span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> addStrings </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">num1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">num2</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">carry</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">num1</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Number</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">num2</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">n2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">carry</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unshift</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">%</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">carry</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">10</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">--;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">--;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">carry</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unshift</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">carry</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isEqual</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">sum</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">intStr1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">deciStr1</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">intStr2</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">deciStr2</span><span style="color:#89DDFF;">]</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">inteSum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">addStrings</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">intStr1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">intStr2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è·å–æ•´æ•°ç›¸åŠ éƒ¨åˆ†</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">deciSum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">addStrings</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">deciStr1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">deciStr2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è·å–å°æ•°ç›¸åŠ éƒ¨åˆ†</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">inteSum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">deciSum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">String</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">isEqual</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// true</span></span>
<span class="line"></span></code></pre></div><p>è¿™æ˜¯ leetcode ä¸Šä¸€é“åŸé¢˜ï¼š415. å­—ç¬¦ä¸²ç›¸åŠ ã€‚åŒºåˆ«åœ¨äºåŸé¢˜æ²¡æœ‰è€ƒè™‘å°æ•°ï¼Œä½†æ˜¯ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œæˆ‘ä»¬åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†è®¡ç®—å°±è¡Œã€‚</p><h3 id="_2-åŸå‹å’ŒåŸå‹é“¾" tabindex="-1">2. åŸå‹å’ŒåŸå‹é“¾ <a class="header-anchor" href="#_2-åŸå‹å’ŒåŸå‹é“¾" aria-hidden="true">#</a></h3><p>å¯ä»¥è¯´è¿™éƒ¨åˆ†æ¯å®¶é¢è¯•å®˜éƒ½ä¼šé—®äº†ã€‚ã€‚é¦–å…ˆç†è§£çš„è¯ï¼Œå…¶å®ä¸€å¼ å›¾å³å¯ï¼Œä¸€æ®µä»£ç å³å¯</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Foo</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Foo</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>åƒä¸‡åˆ«ç•æƒ§ä¸‹é¢è¿™å¼ å›¾ï¼Œç‰¹åˆ«æœ‰ç”¨ï¼Œä¸€å®šè¦ææ‡‚ï¼Œç†Ÿåˆ°æç¬”å°±èƒ½é»˜ç”»å‡ºæ¥ã€‚</p><p><img src="`+s+`" alt=""></p><p>æ€»ç»“ï¼š</p><ul><li>åŸå‹ï¼šæ¯ä¸€ä¸ª <code>JavaScript</code> å¯¹è±¡ï¼ˆnull é™¤å¤–ï¼‰åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹&quot;ç»§æ‰¿&quot;å±æ€§ï¼Œå…¶å®å°±æ˜¯ <code>prototype</code> å¯¹è±¡ã€‚</li><li>åŸå‹é“¾ï¼šç”±ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ã€‚</li></ul><p>å…ˆè¯´å‡ºæ€»ç»“çš„è¯ï¼Œå†ä¸¾ä¾‹å­è¯´æ˜å¦‚ä½•é¡ºç€åŸå‹é“¾æ‰¾åˆ°æŸä¸ªå±æ€§ã€‚</p><p>æ¨èçš„é˜…è¯»ï¼š<a href="https://github.com/mqyqingfeng/blog/issues/2" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹ä»åŸå‹åˆ°åŸå‹é“¾</a> æŒæ¡åŸºæœ¬æ¦‚å¿µï¼Œå†é˜…è¯»è¿™ç¯‡æ–‡ç« <a href="https://juejin.cn/post/6844903989088092174" target="_blank" rel="noreferrer">è½»æ¾ç†è§£ JS åŸå‹åŸå‹é“¾</a>åŠ æ·±ä¸Šå›¾çš„å°è±¡ã€‚</p><h3 id="_3-ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾" tabindex="-1">3. ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾ <a class="header-anchor" href="#_3-ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾" aria-hidden="true">#</a></h3><ul><li><p>ä½œç”¨åŸŸï¼šè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚æ¢å¥è¯è¯´ï¼Œä½œç”¨åŸŸå†³å®šäº†ä»£ç åŒºå—ä¸­å˜é‡å’Œå…¶ä»–èµ„æºçš„å¯è§æ€§ã€‚ï¼ˆå…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸï¼‰</p></li><li><p>ä½œç”¨åŸŸé“¾ï¼šä»å½“å‰ä½œç”¨åŸŸå¼€å§‹ä¸€å±‚å±‚å¾€ä¸Šæ‰¾æŸä¸ªå˜é‡ï¼Œå¦‚æœæ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸè¿˜æ²¡æ‰¾åˆ°ï¼Œå°±æ”¾å¼ƒå¯»æ‰¾ ã€‚è¿™ç§å±‚çº§å…³ç³»å°±æ˜¯ä½œç”¨åŸŸé“¾ã€‚ï¼ˆç”±å¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ„æˆçš„é“¾è¡¨å°±å«åšä½œç”¨åŸŸé“¾ï¼Œå­¦ä¹ ä¸‹é¢çš„å†…å®¹ä¹‹åå†è€ƒè™‘è¿™å¥è¯ï¼‰</p></li></ul><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œjs é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸï¼Œæ‰€ä»¥å‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰æ—¶å°±ç¡®å®šäº†ã€‚</strong></p><p>æ¨èé˜…è¯»ï¼šå…ˆé˜…è¯»<a href="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹è¯æ³•ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</a>ï¼Œå†é˜…è¯»<a href="https://juejin.cn/post/6844903797135769614" target="_blank" rel="noreferrer">æ·±å…¥ç†è§£ JavaScript ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾</a>ã€‚â€‹</p><h3 id="_4-æ‰§è¡Œä¸Šä¸‹æ–‡" tabindex="-1">4. æ‰§è¡Œä¸Šä¸‹æ–‡ <a class="header-anchor" href="#_4-æ‰§è¡Œä¸Šä¸‹æ–‡" aria-hidden="true">#</a></h3><p>è¿™éƒ¨åˆ†ä¸€å®šè¦æŒ‰é¡ºåºè¿ç»­è¯»è¿™å‡ ç¯‡æ–‡ç« ï¼Œå¿…é¡»å¤šè¯»å‡ éï¼š</p><ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/4" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</a></li><li><a href="https://github.com/mqyqingfeng/Blog/issues/5" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹å˜é‡å¯¹è±¡</a>ï¼›</li><li><a href="https://github.com/mqyqingfeng/Blog/issues/6" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹ä½œç”¨åŸŸé“¾</a>ï¼›</li><li><a href="https://github.com/mqyqingfeng/Blog/issues/8" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹æ‰§è¡Œä¸Šä¸‹æ–‡</a>ã€‚</li></ul><p>æ€»ç»“ï¼šå½“ JavaScript ä»£ç æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡ï¼ˆ<code>Variable objectï¼ŒVO</code>ï¼‰ï¼›</li><li>ä½œç”¨åŸŸé“¾ï¼ˆ<code>Scope chain</code>ï¼‰ï¼›</li><li>thisã€‚ï¼ˆå…³äº <code>this</code> æŒ‡å‘é—®é¢˜ï¼Œåœ¨ä¸Šé¢æ¨èçš„æ·±å…¥ç³»åˆ—ä¹Ÿæœ‰è®²ä» ES è§„èŒƒè®²çš„ï¼Œä½†æ˜¯å®åœ¨æ˜¯éš¾æ‡‚ï¼Œå¯¹äºåº”ä»˜é¢è¯•æ¥è¯´ä»¥ä¸‹è¿™ç¯‡é˜®ä¸€å³°çš„æ–‡ç« åº”è¯¥å°±å¯ä»¥äº†ï¼š<code>JavaScript</code> çš„ this åŸç†ï¼‰</li></ul><h3 id="_5-é—­åŒ…" tabindex="-1">5. é—­åŒ… <a class="header-anchor" href="#_5-é—­åŒ…" aria-hidden="true">#</a></h3><p>æ ¹æ® MDN ä¸­æ–‡çš„å®šä¹‰ï¼Œé—­åŒ…çš„å®šä¹‰å¦‚ä¸‹:</p><blockquote><p>åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ã€‚å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚</p></blockquote><p>ä¹Ÿå¯ä»¥è¿™æ ·è¯´ï¼š</p><blockquote><p>é—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚ è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ã€‚ é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡ã€‚</p></blockquote><p>åœ¨ç»è¿‡ä¸Šä¸€å°èŠ‚â€œæ‰§è¡Œä¸Šä¸‹æ–‡â€çš„å­¦ä¹ ï¼Œå†æ¥é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼š<a href="https://github.com/mqyqingfeng/Blog/issues/9" target="_blank" rel="noreferrer">JavaScript æ·±å…¥ä¹‹é—­åŒ…</a>ï¼Œä½ ä¼šå¯¹é—­åŒ…çš„å®è´¨æœ‰ä¸€å®šçš„äº†è§£ã€‚åœ¨å›ç­”æ—¶ï¼Œæˆ‘ä»¬è¿™æ ·ç­”ï¼š</p><p>åœ¨æŸä¸ªå†…éƒ¨å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºæ—¶ï¼Œä¼šå°†çˆ¶çº§å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡åŠ åˆ°å†…éƒ¨å‡½æ•°çš„ [[scope]] ä¸­ï¼Œå½¢æˆä½œç”¨åŸŸé“¾ï¼Œæ‰€ä»¥å³ä½¿çˆ¶çº§å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡é”€æ¯ï¼ˆå³æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå¼¹å‡ºçˆ¶çº§å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼Œä½†æ˜¯å› ä¸ºå…¶æ´»åŠ¨å¯¹è±¡è¿˜æ˜¯å®é™…å­˜å‚¨åœ¨å†…å­˜ä¸­å¯è¢«å†…éƒ¨å‡½æ•°è®¿é—®åˆ°çš„ï¼Œä»è€Œå®ç°äº†é—­åŒ…ã€‚</p><p>é—­åŒ…åº”ç”¨ï¼š å‡½æ•°ä½œä¸ºå‚æ•°è¢«ä¼ é€’ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#A6ACCD;">(fn)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 100</span></span>
<span class="line"></span></code></pre></div><p>å‡½æ•°ä½œä¸ºè¿”å›å€¼è¢«è¿”å›ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 100</span></span>
<span class="line"></span></code></pre></div><p><strong>é—­åŒ…ï¼šè‡ªç”±å˜é‡çš„æŸ¥æ‰¾ï¼Œæ˜¯åœ¨å‡½æ•°å®šä¹‰çš„åœ°æ–¹ï¼Œå‘ä¸Šçº§ä½œç”¨åŸŸæŸ¥æ‰¾ã€‚ä¸æ˜¯åœ¨æ‰§è¡Œçš„åœ°æ–¹ã€‚</strong> åº”ç”¨å®ä¾‹ï¼šæ¯”å¦‚ç¼“å­˜å·¥å…·ï¼Œéšè—æ•°æ®ï¼Œåªæä¾› API ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createCache</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// é—­åŒ…ä¸­è¢«éšè—çš„æ•°æ®ï¼Œä¸è¢«å¤–ç•Œè®¿é—®</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">set</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createCache</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(c</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 100</span></span>
<span class="line"></span></code></pre></div><h3 id="_6-callã€applyã€bind-å®ç°" tabindex="-1">6. callã€applyã€bind å®ç° <a class="header-anchor" href="#_6-callã€applyã€bind-å®ç°" aria-hidden="true">#</a></h3><p>è¿™éƒ¨åˆ†å®ç°è¿˜æ˜¯è¦çŸ¥é“çš„ï¼Œå°±ç®—å·¥ä½œä¸­ä¸ä¼šè‡ªå·±æ‰‹å†™ï¼Œä½†æ˜¯è¯´ä¸å‡†é¢è¯•å®˜å°±æ˜¯è¦é—®ï¼ŒçŸ¥é“ç‚¹åŸç†ä¹Ÿå¥½ï¼Œå¯ä»¥æ‰©å®½æˆ‘ä»¬å†™ä»£ç çš„æ€è·¯ã€‚</p><p>call</p><blockquote><p>call() æ–¹æ³•åœ¨ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ this å€¼å’Œè‹¥å¹²ä¸ªæŒ‡å®šçš„å‚æ•°å€¼çš„å‰æä¸‹è°ƒç”¨æŸä¸ªå‡½æ•°æˆ–æ–¹æ³•ã€‚</p></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vortesnail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// vortesnail</span></span>
<span class="line"></span></code></pre></div><p>é€šè¿‡ <code>call</code> æ–¹æ³•æˆ‘ä»¬åšåˆ°äº†ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p><ul><li><code>call</code> æ”¹å˜äº† <code>this</code> çš„æŒ‡å‘ï¼ŒæŒ‡å‘åˆ° <code>obj</code> ã€‚</li><li><code>fn</code> å‡½æ•°æ‰§è¡Œäº†ã€‚</li></ul><p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬è‡ªå·±å†™ <code>call</code> æ–¹æ³•çš„è¯ï¼Œå¯ä»¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬å…ˆè€ƒè™‘æ”¹é€  <code>obj</code> ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vortesnail</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// vortesnail</span></span>
<span class="line"></span></code></pre></div><p>è¿™æ—¶å€™ <code>this</code> å°±æŒ‡å‘äº† <code>obj</code> ï¼Œä½†æ˜¯è¿™æ ·åšæˆ‘ä»¬æ‰‹åŠ¨ç»™ <code>obj</code> å¢åŠ äº†ä¸€ä¸ª <code>fn</code> å±æ€§ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬æ‰§è¡Œå®Œå†ä½¿ç”¨å¯¹è±¡å±æ€§çš„åˆ é™¤æ–¹æ³•ï¼ˆdeleteï¼‰ä¸å°±è¡Œäº†ï¼Ÿ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fn</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">delete</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>æ ¹æ®è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæ¥äº†ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Type error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// é¦–å…ˆè·å–å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­ context æ˜¯å¦ä¼ å…¥ï¼Œå¦‚æœæ²¡æœ‰ä¼ å°±è®¾ç½®ä¸º window</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°†è¢«è°ƒç”¨çš„æ–¹æ³•è®¾ç½®ä¸º context çš„å±æ€§</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// this å³ä¸ºæˆ‘ä»¬è¦è°ƒç”¨çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡Œè¦è¢«è°ƒç”¨çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ é™¤æ‰‹åŠ¨å¢åŠ çš„å±æ€§æ–¹æ³•</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°†æ‰§è¡Œç»“æœè¿”å›</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p><strong>apply</strong></p><p>æˆ‘ä»¬ä¼šäº† <code>call</code> çš„å®ç°ä¹‹åï¼Œ<code>apply</code> å°±å˜å¾—å¾ˆç®€å•äº†ï¼Œä»–ä»¬æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œé™¤äº†ä¼ å‚æ–¹å¼ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myApply</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Type error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ä¸ä¸Šé¢ä»£ç ç›¸æ¯”ï¼Œæˆ‘ä»¬ä½¿ç”¨ Symbol æ¥ä¿è¯å±æ€§å”¯ä¸€</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ä¹Ÿå°±æ˜¯ä¿è¯ä¸ä¼šé‡å†™ç”¨æˆ·è‡ªå·±åŸæ¥å®šä¹‰åœ¨ context ä¸­çš„åŒåå±æ€§</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fnSymbol</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnSymbol</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡Œè¦è¢«è°ƒç”¨çš„æ–¹æ³•</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnSymbol</span><span style="color:#F07178;">](</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnSymbol</span><span style="color:#F07178;">]()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnSymbol</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p><strong>bind</strong></p><p>bind è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªåœ°æ–¹å¯ä»¥è¯¦ç»†é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œè®²çš„éå¸¸æ¸…æ¥šï¼š<a href="https://github.com/sisterAn/JavaScript-Algorithms/issues/81" target="_blank" rel="noreferrer">è§£æ bind åŸç†ï¼Œå¹¶æ‰‹å†™ bind å®ç°</a>ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myBind</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Type error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è·å–å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Fn</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// å½“å‰çš„è¿™ä¸ª arguments æ˜¯æŒ‡ Fn çš„å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-new-å®ç°" tabindex="-1">7. new å®ç° <a class="header-anchor" href="#_7-new-å®ç°" aria-hidden="true">#</a></h3><ul><li>é¦–å…ˆåˆ›ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡ã€‚</li><li>æ ¹æ®åŸå‹é“¾ï¼Œè®¾ç½®ç©ºå¯¹è±¡çš„ <code>__proto__</code> ä¸ºæ„é€ å‡½æ•°çš„ <code>prototype</code> ã€‚</li><li>æ„é€ å‡½æ•°çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰ã€‚</li><li>åˆ¤æ–­å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myNew</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">context</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_8-å¼‚æ­¥" tabindex="-1">8. å¼‚æ­¥ <a class="header-anchor" href="#_8-å¼‚æ­¥" aria-hidden="true">#</a></h3><p>è¿™éƒ¨åˆ†ç€é‡è¦ç†è§£ <code>Promiseã€async</code> <code>awiatã€event</code> <code>loop</code> ç­‰ã€‚</p><h4 id="_8-1-event-loopã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" tabindex="-1">8.1 event loopã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ <a class="header-anchor" href="#_8-1-event-loopã€å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" aria-hidden="true">#</a></h4><p>é¦–å…ˆæ¨èä¸€ä¸ªå¯ä»¥åœ¨çº¿çœ‹ä»£ç æµç¨‹çš„ç½‘ç«™ï¼š<a href="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D" target="_blank" rel="noreferrer">loupe</a>ã€‚ ç„¶åçœ‹ä¸‹è¿™ä¸ªè§†é¢‘å­¦ä¹ ä¸‹ï¼šåˆ°åº•ä»€ä¹ˆæ˜¯ <a href="https://www.bilibili.com/video/BV1oV411k7XY/?spm_id_from=333.788.recommend_more_video.-1" target="_blank" rel="noreferrer">Event Loop</a> å‘¢ï¼Ÿ</p><p>ç®€å•çš„ä¾‹å­ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">setTimeout</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cb</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// cb å³ callback</span></span>
<span class="line"><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5000</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Bye</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>å®ƒçš„æ‰§è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="`+n+`" alt=""></p><p>Web APIs ä¼šåˆ›å»ºå¯¹åº”çš„çº¿ç¨‹ï¼Œæ¯”å¦‚ <code>setTimeout</code> ä¼šåˆ›å»ºå®šæ—¶å™¨çº¿ç¨‹ï¼Œ<code>ajax</code> è¯·æ±‚ä¼šåˆ›å»º <code>http</code> çº¿ç¨‹ã€‚ã€‚ã€‚è¿™æ˜¯ç”± js çš„è¿è¡Œç¯å¢ƒå†³å®šçš„ï¼Œæ¯”å¦‚æµè§ˆå™¨ã€‚</p><p>çœ‹å®Œä¸Šé¢çš„è§†é¢‘ä¹‹åï¼Œè‡³å°‘å¤§å®¶ç”» Event Loop çš„å›¾è®²è§£ä¸æ˜¯å•¥é—®é¢˜äº†ï¼Œä½†æ˜¯æ¶‰åŠåˆ°å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œæˆ‘ä»¬è¿˜å¾—æ‹œè¯»ä¸€ä¸‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6844903512845860872" target="_blank" rel="noreferrer">è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚ JavaScript æ‰§è¡Œæœºåˆ¶</a>ã€‚å¦‚æœæ„çŠ¹æœªå°½ï¼Œä¸å¦‚å†è¯»ä¸‹è¿™ç¯‡éå¸¸è¯¦ç»†å¸¦æœ‰å¤§é‡åŠ¨å›¾çš„æ–‡ç« ï¼š<a href="https://juejin.cn/post/6969028296893792286#comment" target="_blank" rel="noreferrer">åšä¸€äº›åŠ¨å›¾ï¼Œå­¦ä¹ ä¸€ä¸‹ EventLoop</a>ã€‚æƒ³äº†è§£äº‹ä»¶å¾ªç¯å’Œé¡µé¢æ¸²æŸ“ä¹‹é—´å…³ç³»çš„åˆå¯ä»¥å†é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6844904165462769678" target="_blank" rel="noreferrer">æ·±å…¥è§£æä½ ä¸çŸ¥é“çš„ EventLoop å’Œæµè§ˆå™¨æ¸²æŸ“ã€å¸§åŠ¨ç”»ã€ç©ºé—²å›è°ƒï¼ˆåŠ¨å›¾æ¼”ç¤ºï¼‰</a>ã€‚</p><p><strong>æ³¨æ„ï¼š1.Call Stack è°ƒç”¨æ ˆç©ºé—² -&gt; 2.å°è¯• DOM æ¸²æŸ“ -&gt; è§¦å‘ Event loopã€‚</strong></p><p>æ¯æ¬¡ Call Stack æ¸…ç©ºï¼ˆå³æ¯æ¬¡è½®è¯¢ç»“æŸï¼‰ï¼Œå³åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œã€‚ éƒ½æ˜¯ DOM é‡æ–°æ¸²æŸ“çš„æœºä¼šï¼ŒDOM ç»“æ„æœ‰æ”¹å˜åˆ™é‡æ–°æ¸²æŸ“ã€‚ ç„¶åå†å»è§¦å‘ä¸‹ä¸€æ¬¡ Event loopã€‚</p><p>å®ä»»åŠ¡ï¼š<code>setTimeout</code>ï¼Œ<code>setInterval</code>ï¼Œ<code>Ajax</code>ï¼Œ<code>DOM</code> äº‹ä»¶ã€‚</p><p>å¾®ä»»åŠ¡ï¼š<code>Promise async/await</code>ã€‚</p><p>ä¸¤è€…åŒºåˆ«ï¼š</p><ul><li>å®ä»»åŠ¡ï¼šDOM æ¸²æŸ“åè§¦å‘ï¼Œå¦‚ <code>setTimeout</code> ã€<code>setInterval</code> ã€<code>DOM</code> äº‹ä»¶ ã€<code>script</code> ã€‚</li><li>å¾®ä»»åŠ¡ï¼šDOM æ¸²æŸ“å‰è§¦å‘ï¼Œå¦‚ <code>Promise.then</code> ã€<code>MutationObserver</code> ã€<code>Node</code> ç¯å¢ƒä¸‹çš„ <code>process.nextTick</code> ã€‚</li></ul><p><strong>ä» event loop è§£é‡Šï¼Œä¸ºä½•å¾®ä»»åŠ¡æ‰§è¡Œæ›´æ—©ï¼Ÿ</strong></p><ul><li>å¾®ä»»åŠ¡æ˜¯ ES6 è¯­æ³•è§„å®šçš„ï¼ˆè¢«å‹å…¥ micro task queueï¼‰ã€‚</li><li>å®ä»»åŠ¡æ˜¯ç”±æµè§ˆå™¨è§„å®šçš„ï¼ˆé€šè¿‡ Web APIs å‹å…¥ Callback queueï¼‰ã€‚</li><li>å®ä»»åŠ¡æ‰§è¡Œæ—¶é—´ä¸€èˆ¬æ¯”è¾ƒé•¿ã€‚</li><li>æ¯ä¸€æ¬¡å®ä»»åŠ¡å¼€å§‹ä¹‹å‰ä¸€å®šæ˜¯ä¼´éšç€ä¸€æ¬¡ event loop ç»“æŸçš„ï¼Œè€Œå¾®ä»»åŠ¡æ˜¯åœ¨ä¸€æ¬¡ event loop ç»“æŸå‰æ‰§è¡Œçš„ã€‚</li></ul><h4 id="_8-2-promise" tabindex="-1">8.2 Promise <a class="header-anchor" href="#_8-2-promise" aria-hidden="true">#</a></h4><p>å…³äºè¿™ä¸€å—å„¿æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæœ€å¥½æ˜¯å®ç°ä¸€é Promise A+ è§„èŒƒï¼Œå¤šå°‘æœ‰ç‚¹å°è±¡ï¼Œå½“ç„¶é¢è¯•å®˜ä¹Ÿä¸ä¼šå«ä½ é»˜å†™ä¸€ä¸ªå®Œæ•´çš„å‡ºæ¥ï¼Œä½†æ˜¯ä½ èµ·ç è¦çŸ¥é“å®ç°åŸç†ã€‚</p><ul><li>å…³äº <code>Promise</code> çš„æ‰€æœ‰ä½¿ç”¨æ–¹å¼ï¼Œå¯å‚ç…§è¿™ç¯‡æ–‡ç« ï¼š<a href="https://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noreferrer">ECMAScript 6 å…¥é—¨ - Promise å¯¹è±¡</a>ã€‚</li><li>æ‰‹å†™ <code>Promise</code> æºç çš„è§£ææ–‡ç« ï¼Œå¯é˜…è¯»æ­¤ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6945319439772434469#heading-0" target="_blank" rel="noreferrer">ä»ä¸€é“è®©æˆ‘å¤±çœ çš„ Promise é¢è¯•é¢˜å¼€å§‹ï¼Œæ·±å…¥åˆ†æ Promise å®ç°ç»†èŠ‚</a>ã€‚</li><li>å…³äº <code>Promise</code> çš„é¢è¯•é¢˜ï¼Œå¯å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6844904077537574919" target="_blank" rel="noreferrer">è¦å°±æ¥ 45 é“ Promise é¢è¯•é¢˜ä¸€æ¬¡çˆ½åˆ°åº•</a>ã€‚</li></ul><p>å®ç°ä¸€ä¸ª Promise.allï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">promises</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å‚æ•°å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰ Iterator æ¥å£</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">promises</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">Symbol</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">iterator</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">reject</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Type error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">promises</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">([])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">promises</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//è€ƒè™‘åˆ° promises[i] å¯èƒ½æ˜¯ thenable å¯¹è±¡ä¹Ÿå¯èƒ½æ˜¯æ™®é€šå€¼</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">promises</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">])</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">++</span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">reject</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h4 id="_8-3-async-await-å’Œ-promise-çš„å…³ç³»" tabindex="-1">8.3 async/await å’Œ Promise çš„å…³ç³» <a class="header-anchor" href="#_8-3-async-await-å’Œ-promise-çš„å…³ç³»" aria-hidden="true">#</a></h4><ul><li>async/await æ˜¯æ¶ˆç­å¼‚æ­¥å›è°ƒçš„ç»ˆææ­¦å™¨ã€‚</li><li>ä½†å’Œ Promise å¹¶ä¸äº’æ–¥ï¼Œåè€Œï¼Œä¸¤è€…ç›¸è¾…ç›¸æˆã€‚</li><li>æ‰§è¡Œ async å‡½æ•°ï¼Œè¿”å›çš„ä¸€å®šæ˜¯ Promise å¯¹è±¡ã€‚</li><li>await ç›¸å½“äº Promise çš„ thenã€‚</li><li>try...catch å¯æ•è·å¼‚å¸¸ï¼Œä»£æ›¿äº† Promise çš„ catchã€‚</li></ul><h3 id="_9-æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶" tabindex="-1">9.æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶ <a class="header-anchor" href="#_9-æµè§ˆå™¨çš„åƒåœ¾å›æ”¶æœºåˆ¶" aria-hidden="true">#</a></h3><p>è¿™é‡Œçœ‹è¿™ç¯‡æ–‡ç« å³å¯ï¼š<a href="https://juejin.cn/post/6981588276356317214" target="_blank" rel="noreferrer">ã€Œç¡¬æ ¸ JSã€ä½ çœŸçš„äº†è§£åƒåœ¾å›æ”¶æœºåˆ¶å—</a>ã€‚ æ€»ç»“ä¸€ä¸‹ï¼š æœ‰ä¸¤ç§åƒåœ¾å›æ”¶ç­–ç•¥ï¼š</p><ul><li><strong>æ ‡è®°æ¸…é™¤</strong>ï¼šæ ‡è®°é˜¶æ®µå³ä¸ºæ‰€æœ‰æ´»åŠ¨å¯¹è±¡åšä¸Šæ ‡è®°ï¼Œæ¸…é™¤é˜¶æ®µåˆ™æŠŠæ²¡æœ‰æ ‡è®°ï¼ˆä¹Ÿå°±æ˜¯éæ´»åŠ¨å¯¹è±¡ï¼‰é”€æ¯ã€‚</li><li><strong>å¼•ç”¨è®¡æ•°</strong>ï¼šå®ƒæŠŠå¯¹è±¡æ˜¯å¦ä¸å†éœ€è¦ç®€åŒ–å®šä¹‰ä¸ºå¯¹è±¡æœ‰æ²¡æœ‰å…¶ä»–å¯¹è±¡å¼•ç”¨åˆ°å®ƒã€‚å¦‚æœæ²¡æœ‰å¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡ï¼ˆå¼•ç”¨è®¡æ•°ä¸º 0ï¼‰ï¼Œå¯¹è±¡å°†è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚</li></ul><p>æ ‡è®°æ¸…é™¤çš„ç¼ºç‚¹ï¼š</p><ul><li><strong>å†…å­˜ç¢ç‰‡åŒ–</strong>ï¼Œç©ºé—²å†…å­˜å—æ˜¯ä¸è¿ç»­çš„ï¼Œå®¹æ˜“å‡ºç°å¾ˆå¤šç©ºé—²å†…å­˜å—ï¼Œè¿˜å¯èƒ½ä¼šå‡ºç°åˆ†é…æ‰€éœ€å†…å­˜è¿‡å¤§çš„å¯¹è±¡æ—¶æ‰¾ä¸åˆ°åˆé€‚çš„å—ã€‚</li><li><strong>åˆ†é…é€Ÿåº¦æ…¢</strong>ï¼Œå› ä¸ºå³ä¾¿æ˜¯ä½¿ç”¨ First-fit ç­–ç•¥ï¼Œå…¶æ“ä½œä»æ˜¯ä¸€ä¸ª O(n) çš„æ“ä½œï¼Œæœ€åæƒ…å†µæ˜¯æ¯æ¬¡éƒ½è¦éå†åˆ°æœ€åï¼ŒåŒæ—¶å› ä¸ºç¢ç‰‡åŒ–ï¼Œå¤§å¯¹è±¡çš„åˆ†é…æ•ˆç‡ä¼šæ›´æ…¢ã€‚</li></ul><p>è§£å†³ä»¥ä¸Šçš„ç¼ºç‚¹å¯ä»¥ä½¿ç”¨ **æ ‡è®°æ•´ç†ï¼ˆMark-Compactï¼‰ç®—æ³• **ï¼Œæ ‡è®°ç»“æŸåï¼Œæ ‡è®°æ•´ç†ç®—æ³•ä¼šå°†æ´»ç€çš„å¯¹è±¡ï¼ˆå³ä¸éœ€è¦æ¸…ç†çš„å¯¹è±¡ï¼‰å‘å†…å­˜çš„ä¸€ç«¯ç§»åŠ¨ï¼Œæœ€åæ¸…ç†æ‰è¾¹ç•Œçš„å†…å­˜ï¼ˆå¦‚ä¸‹å›¾ï¼‰</p><p><img src="`+a+`" alt=""></p><p>å¼•ç”¨è®¡æ•°çš„ç¼ºç‚¹ï¼š</p><ul><li>éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ‰€å å†…å­˜ç©ºé—´å¤§ï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿä¸çŸ¥é“è¢«å¼•ç”¨æ•°é‡çš„ä¸Šé™ã€‚</li><li>è§£å†³ä¸äº†å¾ªç¯å¼•ç”¨å¯¼è‡´çš„æ— æ³•å›æ”¶é—®é¢˜ã€‚</li></ul><p>V8 çš„åƒåœ¾å›æ”¶æœºåˆ¶ä¹Ÿæ˜¯åŸºäºæ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œä¸è¿‡å¯¹å…¶åšäº†ä¸€äº›ä¼˜åŒ–ã€‚</p><ul><li>é’ˆå¯¹æ–°ç”ŸåŒºé‡‡ç”¨å¹¶è¡Œå›æ”¶ã€‚</li><li>é’ˆå¯¹è€ç”ŸåŒºé‡‡ç”¨å¢é‡æ ‡è®°ä¸æƒ°æ€§å›æ”¶ã€‚</li></ul><h3 id="_10-å®ç°ä¸€ä¸ª-eventmitter-ç±»" tabindex="-1">10. å®ç°ä¸€ä¸ª EventMitter ç±» <a class="header-anchor" href="#_10-å®ç°ä¸€ä¸ª-eventmitter-ç±»" aria-hidden="true">#</a></h3><p>EventMitter å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼çš„å…¸å‹åº”ç”¨ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">EventEmitter</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">_events</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Record</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">&gt;&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">emit</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">evt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fns</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">on</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">evt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The evet-triggered callback must be a function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">once</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">evt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">execFn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">off</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">execFn</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">on</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">execFn</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">off</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">evt</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cb</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cbLen</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cbLen</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">cb</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">][</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">cb</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">break</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">removeAllListeners</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">evt</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">evt</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_events</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_4-web-å­˜å‚¨" tabindex="-1">4. WEB å­˜å‚¨ <a class="header-anchor" href="#_4-web-å­˜å‚¨" aria-hidden="true">#</a></h2><p>è¦æŒæ¡ cookieï¼ŒlocalStorage å’Œ sessionStorageã€‚</p><ol><li>cookie</li></ol><ul><li>æœ¬èº«ç”¨äºæµè§ˆå™¨å’Œ server é€šè®¯ã€‚</li><li>è¢«â€œå€Ÿç”¨â€åˆ°æœ¬åœ°å­˜å‚¨æ¥çš„ã€‚</li><li>å¯ç”¨ document.cookie = &#39;...&#39; æ¥ä¿®æ”¹ã€‚</li></ul><p>å…¶ç¼ºç‚¹ï¼š</p><ul><li>å­˜å‚¨å¤§å°é™åˆ¶ä¸º 4KBã€‚</li><li>http è¯·æ±‚æ—¶éœ€è¦å‘é€åˆ°æœåŠ¡ç«¯ï¼Œå¢åŠ è¯·æ±‚æ•°é‡ã€‚</li><li>åªèƒ½ç”¨ <code>document.cookie</code> = &#39;...&#39; æ¥ä¿®æ”¹ï¼Œå¤ªè¿‡ç®€é™‹ã€‚</li></ul><ol start="2"><li><code>localStorage</code> å’Œ <code>sessionStorage</code></li></ol><ul><li><code>HTML5</code> ä¸“é—¨ä¸ºå­˜å‚¨æ¥è®¾è®¡çš„ï¼Œæœ€å¤§å¯å­˜ 5Mã€‚</li><li>API ç®€å•æ˜“ç”¨ï¼Œ setItem getItemã€‚</li><li>ä¸ä¼šéšç€ http è¯·æ±‚è¢«å‘é€åˆ°æœåŠ¡ç«¯ã€‚</li></ul><p>å®ƒä»¬çš„åŒºåˆ«ï¼š</p><ul><li><code>localStorage</code> æ•°æ®ä¼šæ°¸ä¹…å­˜å‚¨ï¼Œé™¤éä»£ç åˆ é™¤æˆ–æ‰‹åŠ¨åˆ é™¤ã€‚</li><li><code>sessionStorage</code> æ•°æ®åªå­˜åœ¨äºå½“å‰ä¼šè¯ï¼Œæµè§ˆå™¨å…³é—­åˆ™æ¸…ç©ºã€‚</li><li>ä¸€èˆ¬ç”¨ <code>localStorage</code> ä¼šå¤šä¸€äº›ã€‚</li></ul><h2 id="_5-http" tabindex="-1">5. Http <a class="header-anchor" href="#_5-http" aria-hidden="true">#</a></h2><p>å‰ç«¯å·¥ç¨‹å¸ˆåšå‡ºç½‘é¡µï¼Œéœ€è¦é€šè¿‡ç½‘ç»œè¯·æ±‚å‘åç«¯è·å–æ•°æ®ï¼Œå› æ­¤ http åè®®æ˜¯å‰ç«¯é¢è¯•çš„å¿…è€ƒå†…å®¹ã€‚</p><h3 id="_1-http-çŠ¶æ€ç " tabindex="-1">1. http çŠ¶æ€ç  <a class="header-anchor" href="#_1-http-çŠ¶æ€ç " aria-hidden="true">#</a></h3><p>1.1 çŠ¶æ€ç åˆ†ç±»</p><ul><li>1xx - æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚</li><li>2xx - è¯·æ±‚æˆåŠŸï¼Œå¦‚ 200ã€‚</li><li>3xx - é‡å®šå‘ï¼Œå¦‚ 302ã€‚</li><li>4xx - å®¢æˆ·ç«¯é”™è¯¯ï¼Œå¦‚ 404ã€‚</li><li>5xx - æœåŠ¡ç«¯é”™è¯¯ï¼Œå¦‚ 500ã€‚</li></ul><h3 id="_2-å¸¸è§çŠ¶æ€ç " tabindex="-1">2. å¸¸è§çŠ¶æ€ç  <a class="header-anchor" href="#_2-å¸¸è§çŠ¶æ€ç " aria-hidden="true">#</a></h3><ul><li>200 - æˆåŠŸã€‚</li><li>301 - æ°¸ä¹…é‡å®šå‘ï¼ˆé…åˆ locationï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰ã€‚</li><li>302 - ä¸´æ—¶é‡å®šå‘ï¼ˆé…åˆ locationï¼Œæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰ã€‚</li><li>304 - èµ„æºæœªè¢«ä¿®æ”¹ã€‚</li><li>403 - æ²¡æƒé™ã€‚</li><li>404 - èµ„æºæœªæ‰¾åˆ°ã€‚</li><li>500 - æœåŠ¡å™¨é”™è¯¯ã€‚</li><li>504 - ç½‘å…³è¶…æ—¶ã€‚</li></ul><h3 id="_3-å…³äºåè®®å’Œè§„èŒƒ" tabindex="-1">3. å…³äºåè®®å’Œè§„èŒƒ <a class="header-anchor" href="#_3-å…³äºåè®®å’Œè§„èŒƒ" aria-hidden="true">#</a></h3><ul><li>çŠ¶æ€ç éƒ½æ˜¯çº¦å®šå‡ºæ¥çš„ã€‚</li><li>è¦æ±‚å¤§å®¶éƒ½è·Ÿç€æ‰§è¡Œã€‚</li><li>ä¸è¦è¿åè§„èŒƒï¼Œä¾‹å¦‚ IE æµè§ˆå™¨ã€‚</li></ul><h2 id="_6-react" tabindex="-1">6. React <a class="header-anchor" href="#_6-react" aria-hidden="true">#</a></h2><h3 id="_1-react-äº‹ä»¶æœºåˆ¶-react-16-å’Œ-react-17-äº‹ä»¶æœºåˆ¶çš„ä¸åŒ" tabindex="-1">1. React äº‹ä»¶æœºåˆ¶ï¼ŒReact 16 å’Œ React 17 äº‹ä»¶æœºåˆ¶çš„ä¸åŒ <a class="header-anchor" href="#_1-react-äº‹ä»¶æœºåˆ¶-react-16-å’Œ-react-17-äº‹ä»¶æœºåˆ¶çš„ä¸åŒ" aria-hidden="true">#</a></h3><p>é˜…è¯»è¿™ç¯‡æ–‡ç« å³å¯ï¼š<a href="https://juejin.cn/post/6955636911214067720" target="_blank" rel="noreferrer">ä¸€æ–‡åƒé€ react äº‹ä»¶ç³»ç»ŸåŸç†</a></p><p>ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰äº‹ä»¶æœºåˆ¶ï¼Ÿ</p><ul><li>æŠ¹å¹³æµè§ˆå™¨å·®å¼‚ï¼Œå®ç°æ›´å¥½çš„è·¨å¹³å°ã€‚</li><li>é¿å…åƒåœ¾å›æ”¶ï¼ŒReact å¼•å…¥äº‹ä»¶æ± ï¼Œåœ¨äº‹ä»¶æ± ä¸­è·å–æˆ–é‡Šæ”¾äº‹ä»¶å¯¹è±¡ï¼Œé¿å…é¢‘ç¹åœ°å»åˆ›å»ºå’Œé”€æ¯ã€‚</li><li>æ–¹ä¾¿äº‹ä»¶ç»Ÿä¸€ç®¡ç†å’Œäº‹åŠ¡æœºåˆ¶ã€‚</li></ul><h3 id="_2-class-component" tabindex="-1">2. class component <a class="header-anchor" href="#_2-class-component" aria-hidden="true">#</a></h3><p>ä¸æ’é™¤ç°åœ¨è¿˜ä¼šæœ‰é¢è¯•å®˜é—®å…³äº class component çš„é—®é¢˜ã€‚</p><h4 id="_2-1-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">2.1 ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#_2-1-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a></h4><ul><li>åˆå§‹åŒ–é˜¶æ®µã€‚</li></ul><p>å‘ç”Ÿåœ¨ <code>constructor</code> ä¸­çš„å†…å®¹ï¼Œåœ¨ <code>constructor</code> ä¸­è¿›è¡Œ <code>state</code> ã€<code>props</code> çš„åˆå§‹åŒ–ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µä¿®æ”¹ <code>state</code>ï¼Œä¸ä¼šæ‰§è¡Œæ›´æ–°é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥ç›´æ¥å¯¹ <code>state</code> èµ‹å€¼ã€‚</p><ul><li>æŒ‚è½½é˜¶æ®µã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">componentWillMount</span></span>
<span class="line"><span style="color:#A6ACCD;">   å‘ç”Ÿåœ¨ render å‡½æ•°ä¹‹å‰ï¼Œè¿˜æ²¡æœ‰æŒ‚è½½ Dom</span></span>
<span class="line"><span style="color:#A6ACCD;">render</span></span>
<span class="line"><span style="color:#A6ACCD;">componentDidMount</span></span>
<span class="line"><span style="color:#A6ACCD;">   å‘ç”Ÿåœ¨ render å‡½æ•°ä¹‹åï¼Œå·²ç»æŒ‚è½½ Dom</span></span>
<span class="line"></span></code></pre></div><ul><li>æ›´æ–°é˜¶æ®µã€‚</li></ul><p>æ›´æ–°é˜¶æ®µåˆ†ä¸ºç”± <code>state</code> æ›´æ–°å¼•èµ·å’Œ <code>props</code> æ›´æ–°å¼•èµ·ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">props æ›´æ–°æ—¶ï¼š</span></span>
<span class="line"><span style="color:#F78C6C;">1.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">componentWillReceiveProps</span><span style="color:#A6ACCD;">(nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">nextState)</span></span>
<span class="line"><span style="color:#A6ACCD;">   è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸»è¦ä¸ºæˆ‘ä»¬æä¾›å¯¹ props å‘ç”Ÿæ”¹å˜çš„ç›‘å¬ï¼Œå¦‚æœä½ éœ€è¦åœ¨ props å‘ç”Ÿæ”¹å˜åï¼Œç›¸åº”æ”¹å˜ç»„ä»¶çš„ä¸€äº› stateã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ”¹å˜ state ä¸ä¼šäºŒæ¬¡æ¸²æŸ“ï¼Œè€Œæ˜¯ç›´æ¥åˆå¹¶ stateã€‚</span></span>
<span class="line"><span style="color:#F78C6C;">2.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">shouldComponentUpdate</span><span style="color:#A6ACCD;">(nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">nextState)</span></span>
<span class="line"><span style="color:#A6ACCD;">   è¿™ä¸ªç”Ÿå‘½å‘¨æœŸéœ€è¦è¿”å›ä¸€ä¸ª Boolean ç±»å‹çš„å€¼ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°æ¸²æŸ“ç»„ä»¶ï¼Œä¼˜åŒ– react åº”ç”¨çš„ä¸»è¦æ‰‹æ®µä¹‹ä¸€ï¼Œå½“è¿”å› </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;"> å°±ä¸ä¼šå†å‘ä¸‹æ‰§è¡Œç”Ÿå‘½å‘¨æœŸäº†ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µä¸å¯ä»¥ </span><span style="color:#82AAFF;">setState</span><span style="color:#A6ACCD;">()ï¼Œä¼šå¯¼è‡´å¾ªç¯è°ƒç”¨ã€‚</span></span>
<span class="line"><span style="color:#F78C6C;">3.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">componentWillUpdate</span><span style="color:#A6ACCD;">(nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">nextState)</span></span>
<span class="line"><span style="color:#A6ACCD;">   è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸»è¦æ˜¯ç»™æˆ‘ä»¬ä¸€ä¸ªæ—¶æœºèƒ½å¤Ÿå¤„ç†ä¸€äº›åœ¨ Dom å‘ç”Ÿæ›´æ–°ä¹‹å‰çš„äº‹æƒ…ï¼Œå¦‚è·å¾— Dom æ›´æ–°å‰æŸäº›å…ƒç´ çš„åæ ‡ã€å¤§å°ç­‰ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µä¸å¯ä»¥ </span><span style="color:#82AAFF;">setState</span><span style="color:#A6ACCD;">()ï¼Œä¼šå¯¼è‡´å¾ªç¯è°ƒç”¨ã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">**</span><span style="color:#A6ACCD;">ä¸€ç›´åˆ°è¿™é‡Œ </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">props å’Œ </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state éƒ½è¿˜æœªå‘ç”Ÿæ›´æ–°</span><span style="color:#89DDFF;">**</span></span>
<span class="line"><span style="color:#F78C6C;">4.</span><span style="color:#A6ACCD;"> render</span></span>
<span class="line"><span style="color:#F78C6C;">5.</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">componentDidUpdate</span><span style="color:#A6ACCD;">(prevProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> prevState)</span></span>
<span class="line"><span style="color:#A6ACCD;">   åœ¨æ­¤æ—¶å·²ç»å®Œæˆæ¸²æŸ“ï¼ŒDom å·²ç»å‘ç”Ÿå˜åŒ–ï¼Œstate å·²ç»å‘ç”Ÿæ›´æ–°ï¼ŒprevPropsã€prevState å‡ä¸ºä¸Šä¸€ä¸ªçŠ¶æ€çš„å€¼ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">state æ›´æ–°æ—¶ï¼ˆå…·ä½“åŒä¸Šï¼‰</span></span>
<span class="line"><span style="color:#F78C6C;">1.</span><span style="color:#A6ACCD;"> shouldComponentUpdate</span></span>
<span class="line"><span style="color:#F78C6C;">2.</span><span style="color:#A6ACCD;"> componentWillUpdate</span></span>
<span class="line"><span style="color:#F78C6C;">3.</span><span style="color:#A6ACCD;"> render</span></span>
<span class="line"><span style="color:#F78C6C;">4.</span><span style="color:#A6ACCD;"> componentDidUpdate</span></span>
<span class="line"></span></code></pre></div><ul><li>å¸è½½é˜¶æ®µã€‚</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">1.</span><span style="color:#A6ACCD;"> componentWillUnmount</span></span>
<span class="line"><span style="color:#A6ACCD;">   åœ¨ç»„ä»¶å¸è½½åŠé”€æ¯ä¹‹å‰ç›´æ¥è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œå¿…è¦çš„æ¸…ç†æ“ä½œï¼Œä¾‹å¦‚ï¼Œæ¸…é™¤ timerï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–æ¸…é™¤åœ¨ componentDidMount  ä¸­åˆ›å»ºçš„è®¢é˜…ç­‰ã€‚componentWillUnmount ä¸­ä¸åº”è°ƒç”¨ setStateï¼Œå› ä¸ºè¯¥ç»„ä»¶å°†æ°¸è¿œä¸ä¼šé‡æ–°æ¸²æŸ“ã€‚ç»„ä»¶å®ä¾‹å¸è½½åï¼Œå°†æ°¸è¿œä¸ä¼šå†æŒ‚è½½å®ƒã€‚</span></span>
<span class="line"></span></code></pre></div><p>åœ¨ React 16 ä¸­å®˜æ–¹å·²ç»å»ºè®®åˆ é™¤ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼Œéè¦ä½¿ç”¨å¿…é¡»åŠ å‰ç¼€ï¼šUNSAVE_ ã€‚</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">componentWillMount;</span></span>
<span class="line"><span style="color:#A6ACCD;">componentWillReceiveProps;</span></span>
<span class="line"><span style="color:#A6ACCD;">componentWillUpdate;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>å–ä»£è¿™ä¸¤ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä»¥ä¸‹ä¸¤ä¸ªæ–°çš„ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">1.</span><span style="color:#A6ACCD;"> static </span><span style="color:#82AAFF;">getDerivedStateFromProps</span><span style="color:#A6ACCD;">(nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">nextState)</span></span>
<span class="line"><span style="color:#A6ACCD;">   åœ¨ç»„ä»¶å®ä¾‹åŒ–ã€æ¥æ”¶åˆ°æ–°çš„ props ã€ç»„ä»¶çŠ¶æ€æ›´æ–°æ—¶ä¼šè¢«è°ƒç”¨</span></span>
<span class="line"><span style="color:#F78C6C;">2.</span><span style="color:#A6ACCD;"> getSnapshotBeforeUpdateï¼ˆprevProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">prevStateï¼‰</span></span>
<span class="line"><span style="color:#A6ACCD;">   åœ¨è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬å¯ä»¥æ‹¿åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ Dom å…ƒç´ çš„åæ ‡ã€å¤§å°çš„ç­‰ç›¸å…³ä¿¡æ¯ã€‚ç”¨äºæ›¿ä»£æ—§çš„ç”Ÿå‘½å‘¨æœŸä¸­çš„ componentWillUpdateã€‚</span></span>
<span class="line"><span style="color:#A6ACCD;">   è¯¥å‡½æ•°çš„è¿”å›å€¼å°†ä¼šä½œä¸º componentDidUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°å‡ºç°ã€‚</span></span>
<span class="line"></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€èˆ¬éƒ½ä¼šé—®ä¸ºä»€ä¹ˆè¦åºŸå¼ƒä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸï¼ŒåŸå› æ˜¯ä»€ä¹ˆã€‚</p><h4 id="_2-2-setstate-åŒæ­¥è¿˜æ˜¯å¼‚æ­¥" tabindex="-1">2.2 setState åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ <a class="header-anchor" href="#_2-2-setstate-åŒæ­¥è¿˜æ˜¯å¼‚æ­¥" aria-hidden="true">#</a></h4><p><code>setState</code> æœ¬èº«ä»£ç çš„æ‰§è¡Œè‚¯å®šæ˜¯åŒæ­¥çš„ï¼Œè¿™é‡Œçš„å¼‚æ­¥æ˜¯æŒ‡æ˜¯å¤šä¸ª <code>state</code> ä¼šåˆæˆåˆ°ä¸€èµ·è¿›è¡Œæ‰¹é‡æ›´æ–°ã€‚ åŒæ­¥è¿˜æ˜¯å¼‚æ­¥å–å†³äºå®ƒè¢«è°ƒç”¨çš„ç¯å¢ƒã€‚</p><ul><li>å¦‚æœ setState åœ¨ React èƒ½å¤Ÿæ§åˆ¶çš„èŒƒå›´è¢«è°ƒç”¨ï¼Œå®ƒå°±æ˜¯å¼‚æ­¥çš„ã€‚æ¯”å¦‚åˆæˆäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œ æ­¤æ—¶ä¼šè¿›è¡Œæ‰¹é‡æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯å°†çŠ¶æ€åˆå¹¶åå†è¿›è¡Œ DOM æ›´æ–°ã€‚</li><li>å¦‚æœ setState åœ¨åŸç”Ÿ JavaScript æ§åˆ¶çš„èŒƒå›´è¢«è°ƒç”¨ï¼Œå®ƒå°±æ˜¯åŒæ­¥çš„ã€‚æ¯”å¦‚åŸç”Ÿäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼ŒAjax å›è°ƒå‡½æ•°ä¸­ï¼Œæ­¤æ—¶ setState è¢«è°ƒç”¨åä¼šç«‹å³æ›´æ–° DOM ã€‚</li></ul><h3 id="_3-å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£" tabindex="-1">3. å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£ <a class="header-anchor" href="#_3-å¯¹å‡½æ•°å¼ç¼–ç¨‹çš„ç†è§£" aria-hidden="true">#</a></h3><p>è¿™ç¯‡æ–‡ç« å†™çš„çœŸçš„å¤ªå¥½äº†ï¼Œä¸€å®šè¦è¯»ï¼š<a href="https://juejin.cn/post/6844903936378273799" target="_blank" rel="noreferrer">ç®€æ˜ JavaScript å‡½æ•°å¼ç¼–ç¨‹â€”â€”å…¥é—¨ç¯‡ã€‚</a></p><p>æ€»ç»“ä¸€ä¸‹ï¼š</p><p>å‡½æ•°å¼ç¼–ç¨‹æœ‰ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚</p><ul><li>æ•°æ®ä¸å¯å˜ï¼ˆæ— å‰¯ä½œç”¨ï¼‰ï¼š å®ƒè¦æ±‚ä½ æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ æƒ³ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä½ åº”è¯¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ç”¨æ¥ä¿®æ”¹ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å·²æœ‰çš„å¯¹è±¡ã€‚</li><li>æ— çŠ¶æ€ï¼š ä¸»è¦æ˜¯å¼ºè°ƒå¯¹äºä¸€ä¸ªå‡½æ•°ï¼Œä¸ç®¡ä½ ä½•æ—¶è¿è¡Œï¼Œå®ƒéƒ½åº”è¯¥åƒç¬¬ä¸€æ¬¡è¿è¡Œä¸€æ ·ï¼Œç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œç»™å‡ºç›¸åŒçš„è¾“å‡ºï¼Œå®Œå…¨ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€çš„å˜åŒ–ã€‚</li></ul><p>çº¯å‡½æ•°å¸¦æ¥çš„æ„ä¹‰ã€‚</p><ul><li>ä¾¿äºæµ‹è¯•å’Œä¼˜åŒ–ï¼šè¿™ä¸ªæ„ä¹‰åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­æ„ä¹‰éå¸¸å¤§ï¼Œç”±äºçº¯å‡½æ•°å¯¹äºç›¸åŒçš„è¾“å…¥æ°¸è¿œä¼šè¿”å›ç›¸åŒçš„ç»“æœï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è½»æ¾æ–­è¨€å‡½æ•°çš„æ‰§è¡Œç»“æœï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¿è¯å‡½æ•°çš„ä¼˜åŒ–ä¸ä¼šå½±å“å…¶ä»–ä»£ç çš„æ‰§è¡Œã€‚</li><li>å¯ç¼“å­˜æ€§ï¼šå› ä¸ºç›¸åŒçš„è¾“å…¥æ€»æ˜¯å¯ä»¥è¿”å›ç›¸åŒçš„è¾“å‡ºï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æå‰ç¼“å­˜å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚</li><li>æ›´å°‘çš„ Bugï¼šä½¿ç”¨çº¯å‡½æ•°æ„å‘³ç€ä½ çš„å‡½æ•°ä¸­ä¸å­˜åœ¨æŒ‡å‘ä¸æ˜çš„ thisï¼Œä¸å­˜åœ¨å¯¹å…¨å±€å˜é‡çš„å¼•ç”¨ï¼Œä¸å­˜åœ¨å¯¹å‚æ•°çš„ä¿®æ”¹ï¼Œè¿™äº›å…±äº«çŠ¶æ€å¾€å¾€æ˜¯ç»å¤§å¤šæ•° bug çš„æºå¤´ã€‚</li></ul><h3 id="_4-react-hooks" tabindex="-1">4. react hooks <a class="header-anchor" href="#_4-react-hooks" aria-hidden="true">#</a></h3><p>ç°åœ¨åº”è¯¥å¤§å¤šæ•°é¢è¯•å®˜ä¼šé—® hooks ç›¸å…³çš„å•¦ã€‚è¿™é‡Œæˆ‘å¼ºçƒˆæ¨èä¸‰ç¯‡æ–‡ç« ï¼Œå³ä½¿æ²¡çœ‹è¿‡æºç ï¼Œä¹Ÿèƒ½æ¯”è¾ƒå¥½åœ°ç†è§£ä¸€äº›åŸç†ï¼š</p><ul><li><a href="https://juejin.cn/post/6844904127110053895" target="_blank" rel="noreferrer">ç”¨åŠ¨ç”»å’Œå®æˆ˜æ‰“å¼€ React Hooksï¼ˆä¸€ï¼‰ï¼šuseState å’Œ useEffect</a></li><li><a href="https://juejin.cn/post/6844904132164190221" target="_blank" rel="noreferrer">ç”¨åŠ¨ç”»å’Œå®æˆ˜æ‰“å¼€ React Hooksï¼ˆäºŒï¼‰ï¼šè‡ªå®šä¹‰ Hook å’Œ useCallback</a></li><li><a href="https://juejin.cn/post/6844904149746728973" target="_blank" rel="noreferrer">ç”¨åŠ¨ç”»å’Œå®æˆ˜æ‰“å¼€ React Hooksï¼ˆä¸‰ï¼‰ï¼šuseReducer å’Œ useContext</a></li></ul><h3 id="_5-react-forwardref-æ˜¯ä»€ä¹ˆåŠå…¶ä½œç”¨" tabindex="-1">5. React.forwardRef æ˜¯ä»€ä¹ˆåŠå…¶ä½œç”¨ <a class="header-anchor" href="#_5-react-forwardref-æ˜¯ä»€ä¹ˆåŠå…¶ä½œç”¨" aria-hidden="true">#</a></h3><p>è¿™é‡Œè¿˜æ˜¯é˜…è¯»å®˜æ–¹æ–‡æ¡£æ¥çš„æ¸…æ™°ï¼š<a href="https://zh-hans.reactjs.org/docs/react-api.html#reactforwardref" target="_blank" rel="noreferrer">React.forwardRef</a>ã€‚ ä¸€èˆ¬åœ¨çˆ¶ç»„ä»¶è¦æ‹¿åˆ°å­ç»„ä»¶çš„æŸä¸ªå®é™…çš„ DOM å…ƒç´ æ—¶ä¼šç”¨åˆ°ã€‚</p><h3 id="_6-react-hooks-ä¸-class-ç»„ä»¶å¯¹æ¯”" tabindex="-1">6. react hooks ä¸ class ç»„ä»¶å¯¹æ¯” <a class="header-anchor" href="#_6-react-hooks-ä¸-class-ç»„ä»¶å¯¹æ¯”" aria-hidden="true">#</a></h3><p><a href="https://overreacted.io/zh-hans/how-are-function-components-different-from-classes/" target="_blank" rel="noreferrer">react hooks ä¸ class ç»„ä»¶å¯¹æ¯” å‡½æ•°å¼ç»„ä»¶ä¸ç±»ç»„ä»¶æœ‰ä½•ä¸åŒ</a></p><h3 id="_7-ä»‹ç»-react-dom-diff-ç®—æ³•" tabindex="-1">7. ä»‹ç» React dom diff ç®—æ³• <a class="header-anchor" href="#_7-ä»‹ç»-react-dom-diff-ç®—æ³•" aria-hidden="true">#</a></h3><p><a href="https://juejin.cn/post/6844903806132568072" target="_blank" rel="noreferrer">è®©è™šæ‹Ÿ DOM å’Œ DOM-diff ä¸å†æˆä¸ºä½ çš„ç»Šè„šçŸ³ã€‚</a></p><h3 id="_8-å¯¹-react-fiber-çš„ç†è§£" tabindex="-1">8. å¯¹ React Fiber çš„ç†è§£ <a class="header-anchor" href="#_8-å¯¹-react-fiber-çš„ç†è§£" aria-hidden="true">#</a></h3><p>å…³äºè¿™å—å„¿æˆ‘è§‰å¾—å¯ä»¥å¥½å¥½é˜…è¯»ä¸‹è¿™ç¯‡æ— æ•Œçš„åšå®¢äº†ï¼š<a href="https://pomb.us/build-your-own-react/" target="_blank" rel="noreferrer">Build your own React</a>ã€‚ å®ƒå¯ä»¥æ•™ä½ ä¸€æ­¥æ­¥å®ç°ä¸€ä¸ªç®€å•çš„åŸºäº React Fiber çš„ Reactï¼Œå¯ä»¥å­¦åˆ°å¾ˆå¤š React çš„è®¾è®¡æ€æƒ³ï¼Œæ¯•ç«Ÿä¸ºäº†é¢è¯•æˆ‘ä»¬å¯èƒ½å¤§å¤šæ•°äººæ˜¯æ²¡æœ‰æ—¶é—´æˆ–èƒ½åŠ›å»é˜…è¯»æºç çš„äº†ã€‚</p><p>ç„¶åæˆ‘ä»¬å†é˜…è¯»ä¸‹å…¶å®ƒä½œè€…å¯¹äº React Fiber çš„ç†è§£ï¼Œå†è½¬åŒ–ä¸ºæˆ‘ä»¬è‡ªå·±çš„æ€è€ƒæ€»ç»“ï¼Œä»¥ä¸‹æ˜¯æ¨èæ–‡ç« ï¼š <a href="https://juejin.cn/post/6844903975112671239" target="_blank" rel="noreferrer">è¿™å¯èƒ½æ˜¯æœ€é€šä¿—çš„ React Fiber(æ—¶é—´åˆ†ç‰‡) æ‰“å¼€æ–¹å¼</a></p><h3 id="_9-react-æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ" tabindex="-1">9. React æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ <a class="header-anchor" href="#_9-react-æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µ" aria-hidden="true">#</a></h3><p>æ¨èæ–‡ç« ï¼š<a href="https://juejin.cn/post/6844903924302888973" target="_blank" rel="noreferrer">React æ€§èƒ½ä¼˜åŒ–çš„ 8 ç§æ–¹å¼äº†è§£ä¸€ä¸‹?</a></p><ul><li>ä½¿ç”¨ <code>React.memo</code> æ¥ç¼“å­˜ç»„ä»¶ã€‚</li><li>ä½¿ç”¨ <code>React.useMemo</code> ç¼“å­˜å¤§é‡çš„è®¡ç®—ã€‚</li><li>é¿å…ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚</li><li>åˆ©ç”¨ <code>React.lazy</code> å’Œ <code>React.Suspense</code> å»¶è¿ŸåŠ è½½ä¸æ˜¯ç«‹å³éœ€è¦çš„ç»„ä»¶ã€‚</li><li>å°½é‡ä½¿ç”¨ <code>CSS</code> è€Œä¸æ˜¯å¼ºåˆ¶åŠ è½½å’Œå¸è½½ç»„ä»¶ã€‚</li><li>ä½¿ç”¨ <code>React.Fragment</code> é¿å…æ·»åŠ é¢å¤–çš„ DOMã€‚</li></ul><h3 id="_10-react-redux" tabindex="-1">10. React Redux <a class="header-anchor" href="#_10-react-redux" aria-hidden="true">#</a></h3><p><a href="https://juejin.cn/post/6844904021187117069" target="_blank" rel="noreferrer">Redux åŒ…æ•™åŒ…ä¼šï¼ˆä¸€ï¼‰ï¼šä»‹ç» Redux ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µ</a></p><h2 id="_7-webpack" tabindex="-1">7. webpack <a class="header-anchor" href="#_7-webpack" aria-hidden="true">#</a></h2><p>åŸç†åˆæ¢ï¼š<a href="https://juejin.cn/post/6943468761575849992" target="_blank" rel="noreferrer">å½“é¢è¯•å®˜é—® Webpack çš„æ—¶å€™ä»–æƒ³çŸ¥é“ä»€ä¹ˆ</a></p><p>ç®€æ˜“å®ç°ï¼š<a href="https://segmentfault.com/a/1190000039231950" target="_blank" rel="noreferrer">é¢è¯•å®˜ï¼šwebpack åŸç†éƒ½ä¸ä¼šï¼Œæ‰‹å†™ä¸€ä¸ª webpackï¼Œçœ‹çœ‹ AST æ€ä¹ˆç”¨</a></p><p>åŠ æ–™ï¼š<a href="https://juejin.cn/post/6888936770692448270" target="_blank" rel="noreferrer">ç®€å•æ˜“æ‡‚çš„ webpack æ‰“åŒ…å JS çš„è¿è¡Œè¿‡ç¨‹ï¼ŒWebpack æ‰‹å†™ loader å’Œ plugin</a></p><p>çƒ­æ›´æ–°åŸç†ï¼š<a href="https://zhuanlan.zhihu.com/p/30669007" target="_blank" rel="noreferrer">Webpack HMR åŸç†è§£æ</a></p><p>é¢è¯•é¢˜ï¼š<a href="https://juejin.cn/post/6844904094281236487" target="_blank" rel="noreferrer">ã€Œåè¡€æ•´ç†ã€å†æ¥ä¸€æ‰“ Webpack é¢è¯•é¢˜</a></p><p>è¿™é‡Œè¦æ³¨æ„ï¼Œåº”è¯¥è¿˜ä¼šè€ƒ webpack5 å’Œ 4 æœ‰å“ªäº›åŒºåˆ«ã€‚</p><h2 id="_8-æ¨¡å—åŒ–" tabindex="-1">8. æ¨¡å—åŒ– <a class="header-anchor" href="#_8-æ¨¡å—åŒ–" aria-hidden="true">#</a></h2><p><a href="https://juejin.cn/post/6844903744518389768" target="_blank" rel="noreferrer">å‰ç«¯æ¨¡å—åŒ–è¯¦è§£(å®Œæ•´ç‰ˆ)</a> ï¼ˆè¿™é‡Œé¢æ²¡æœ‰è®² umdï¼‰ <a href="https://juejin.cn/post/6844903927104667662" target="_blank" rel="noreferrer">å¯èƒ½æ˜¯æœ€è¯¦ç»†çš„ UMD æ¨¡å—å…¥é—¨æŒ‡å—</a></p><h2 id="_9-æ€§èƒ½ä¼˜åŒ–" tabindex="-1">9. æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#_9-æ€§èƒ½ä¼˜åŒ–" aria-hidden="true">#</a></h2><p>ä»£ç å±‚é¢ï¼š</p><ul><li>é˜²æŠ–å’ŒèŠ‚æµï¼ˆ<code>resize</code>ï¼Œ<code>scroll</code>ï¼Œ<code>input</code>ï¼‰ã€‚</li><li>å‡å°‘å›æµï¼ˆé‡æ’ï¼‰å’Œé‡ç»˜ã€‚</li><li>äº‹ä»¶å§”æ‰˜ã€‚</li><li>css æ”¾ ï¼Œjs è„šæœ¬æ”¾ æœ€åº•éƒ¨ã€‚</li><li>å‡å°‘ DOM æ“ä½œã€‚</li><li>æŒ‰éœ€åŠ è½½ï¼Œæ¯”å¦‚ React ä¸­ä½¿ç”¨ <code>React.lazy</code> å’Œ <code>React.Suspense</code> ï¼Œé€šå¸¸éœ€è¦ä¸ webpack ä¸­çš„ <code>splitChunks</code> é…åˆã€‚</li></ul><p>æ„å»ºæ–¹é¢ï¼š</p><ul><li>å‹ç¼©ä»£ç æ–‡ä»¶ï¼Œåœ¨ <code>webpack</code> ä¸­ä½¿ç”¨ <code>terser-webpack-plugin</code> å‹ç¼© Javascript ä»£ç ï¼›ä½¿ç”¨ c<code>ss-minimizer-webpack-plugin</code> å‹ç¼© CSS ä»£ç ï¼›ä½¿ç”¨ html-webpack-plugin å‹ç¼© html ä»£ç ã€‚</li><li>å¼€å¯ <code>gzip</code> å‹ç¼©ï¼Œ<code>webpack</code> ä¸­ä½¿ç”¨<code> compression-webpack-plugin</code> ï¼Œ<code>node</code> ä½œä¸ºæœåŠ¡å™¨ä¹Ÿè¦å¼€å¯ï¼Œä½¿ç”¨ <code>compressionã€‚</code></li><li>å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨ <code>CDN</code> æœåŠ¡ï¼Œåœ¨ <code>webpack</code> ä¸­æˆ‘ä»¬è¦é…ç½® <code>externals</code>ï¼Œå°†æ¯”å¦‚ <code>React</code>ï¼Œ <code>Vue</code> è¿™ç§åŒ…ä¸æ‰“å€’æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶ä¸­ã€‚è€Œæ˜¯é‡‡ç”¨ <code>CDN</code> æœåŠ¡ã€‚</li></ul><p>å…¶å®ƒï¼š</p><ul><li>ä½¿ç”¨ <code>http2</code>ï¼Œå› ä¸ºè§£æé€Ÿåº¦å¿«ï¼Œå¤´éƒ¨å‹ç¼©ï¼Œå¤šè·¯å¤ç”¨ï¼ŒæœåŠ¡å™¨æ¨é€é™æ€èµ„æºã€‚</li><li>ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ã€‚</li><li>å›¾ç‰‡å‹ç¼©ã€‚</li><li>ä½¿ç”¨ http ç¼“å­˜ï¼Œæ¯”å¦‚æœåŠ¡ç«¯çš„å“åº”ä¸­æ·»åŠ  <code>Cache-Control / Expires </code>ã€‚</li></ul><h2 id="_10-å¸¸è§æ‰‹å†™" tabindex="-1">10. å¸¸è§æ‰‹å†™ <a class="header-anchor" href="#_10-å¸¸è§æ‰‹å†™" aria-hidden="true">#</a></h2><p>ä»¥ä¸‹çš„å†…å®¹æ˜¯ä¸Šé¢æ²¡æœ‰æåˆ°çš„æ‰‹å†™ï¼Œæ¯”å¦‚ <code>new</code> ã€<code>Promise.all</code> è¿™ç§ä¸Šé¢å†…å®¹ä¸­å·²ç»æåˆ°äº†å¦‚ä½•å†™ã€‚</p><h3 id="_1-é˜²æŠ–" tabindex="-1">1. é˜²æŠ– <a class="header-anchor" href="#_1-é˜²æŠ–" aria-hidden="true">#</a></h3><p><a href="https://github.com/mqyqingfeng/Blog/issues/22" target="_blank" rel="noreferrer">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦é˜²æŠ– </a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">debounce</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">func</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">wait</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">immediate</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timeout</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;">) </span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">immediate</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">callNow</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">timeout</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">wait</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">callNow</span><span style="color:#F07178;">) </span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">wait</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-èŠ‚æµ" tabindex="-1">2. èŠ‚æµ <a class="header-anchor" href="#_2-èŠ‚æµ" aria-hidden="true">#</a></h3><p><a href="https://github.com/mqyqingfeng/Blog/issues/26" target="_blank" rel="noreferrer">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ</a></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨æ—¶é—´æˆ³</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">throttle</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">func</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">wait</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">preTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">nowTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">preTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">wait</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">preTime</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nowTime</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å®šæ—¶å™¨å®ç°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">throttle</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">func</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">wait</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timeout</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">timeout</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">wait</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-å¿«é€Ÿæ’åº" tabindex="-1">3. å¿«é€Ÿæ’åº <a class="header-anchor" href="#_3-å¿«é€Ÿæ’åº" aria-hidden="true">#</a></h3><p>è¿™é‡Œå¯¹å¿«æ’æ€æƒ³ä¸å¤ªæ˜ç™½çš„åŒå­¦å¯ä»¥çœ‹ä¸‹è¿™ä¸ªè®²è§£çš„å¾ˆæ¸…æ™°çš„è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1at411T75o?from=search&amp;seid=10065750342799523965&amp;spm_id_from=333.337.0.0" target="_blank" rel="noreferrer">å¿«é€Ÿæ’åºç®—æ³•</a>ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sortArray</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">nums</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">quickSort</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nums</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nums</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nums</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">quickSort</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">start</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">end</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">sort</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">quickSort</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">quickSort</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sort</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">start</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">end</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">start</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">start</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">end</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">right</span><span style="color:#89DDFF;">--;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">left</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">right</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">left</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">base</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">left</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_4-instanceof" tabindex="-1">4. instanceof <a class="header-anchor" href="#_4-instanceof" aria-hidden="true">#</a></h3><p>è¿™ä¸ªæ‰‹å†™ä¸€å®šè¦æ‡‚åŸå‹åŠåŸå‹é“¾ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myInstanceof</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">origin</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">origin</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">origin must be function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// ç›¸å½“äº proto = target.__proto__;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">origin</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-æ•°ç»„æ‰å¹³åŒ–" tabindex="-1">5. æ•°ç»„æ‰å¹³åŒ– <a class="header-anchor" href="#_5-æ•°ç»„æ‰å¹³åŒ–" aria-hidden="true">#</a></h3><p>é‡ç‚¹ï¼Œä¸è¦è§‰å¾—ç”¨ä¸åˆ°å°±ä¸ç®¡ï¼Œè¿™é“é¢˜å°±æ˜¯è€ƒå¯Ÿä½ å¯¹ js è¯­æ³•çš„ç†Ÿç»ƒç¨‹åº¦ä»¥åŠæ‰‹å†™ä»£ç çš„åŸºæœ¬èƒ½åŠ›ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">flat</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">depth</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">depth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä»¥ä¸‹ä»£ç è¿˜å¯ä»¥ç®€åŒ–ï¼Œä¸è¿‡ä¸ºäº†å¯è¯»æ€§ï¼Œè¿˜æ˜¯....</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">pre</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">cur</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">pre</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cur</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">flat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cur</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">depth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cur</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_6-æ‰‹å†™-reduce" tabindex="-1">6. æ‰‹å†™ reduce <a class="header-anchor" href="#_6-æ‰‹å†™-reduce" aria-hidden="true">#</a></h3><p>å…ˆä¸è€ƒè™‘ç¬¬äºŒä¸ªå‚æ•°åˆå§‹å€¼:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//thiså°±æ˜¯è°ƒç”¨reduceæ–¹æ³•çš„æ•°ç»„</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// é»˜è®¤ä¸ºæ•°ç»„çš„ç¬¬ä¸€é¡¹</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">total</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><p>è€ƒè™‘ä¸Šåˆå§‹å€¼ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">initialValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">initialValue</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æœ‰åˆå§‹å€¼çš„è¯ä»0éå†ï¼Œå¦åˆ™ä»1éå†</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">initialValue</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">total</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-å¸¦å¹¶å‘çš„å¼‚æ­¥è°ƒåº¦å™¨-scheduler" tabindex="-1">7. å¸¦å¹¶å‘çš„å¼‚æ­¥è°ƒåº¦å™¨ Scheduler <a class="header-anchor" href="#_7-å¸¦å¹¶å‘çš„å¼‚æ­¥è°ƒåº¦å™¨-scheduler" aria-hidden="true">#</a></h3><p>JS å®ç°ä¸€ä¸ªå¸¦å¹¶å‘é™åˆ¶çš„å¼‚åº¦è°ƒåº¦å™¨ Schedulerï¼Œä¿è¯åŒæ—¶è¿è¡Œçš„ä»»åŠ¡æœ€å¤šæœ‰ä¸¤ä¸ªã€‚å®Œå–„ä¸‹é¢ä»£ç ä¸­çš„ Scheduler ç±»ï¼Œä½¿å¾—ä»¥ä¸‹ç¨‹åºèƒ½æ­£ç¡®è¾“å‡ºã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Scheduler</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">promiseMaker</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> timeout </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">time</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">time</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> scheduler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Scheduler</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> addTask </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">time</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">order</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">scheduler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">timeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">time</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">order</span><span style="color:#F07178;">)))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">addTask</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">addTask</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">addTask</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">300</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">addTask</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">400</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">4</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// outputï¼š2 3 1 4</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸€å¼€å§‹ï¼Œ1ï¼Œ2ä¸¤ä¸ªä»»åŠ¡è¿›å…¥é˜Ÿåˆ—ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 500ms æ—¶ï¼Œ2å®Œæˆï¼Œè¾“å‡º2ï¼Œä»»åŠ¡3å…¥é˜Ÿã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 800ms æ—¶ï¼Œ3å®Œæˆï¼Œè¾“å‡º3ï¼Œä»»åŠ¡4å…¥é˜Ÿã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 1000ms æ—¶ï¼Œ1å®Œæˆï¼Œè¾“å‡º1ã€‚</span></span>
<span class="line"></span></code></pre></div><p>æ ¹æ®é¢˜ç›®ï¼Œæˆ‘ä»¬åªéœ€è¦æ“ä½œ Scheduler ç±»å°±è¡Œï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Scheduler</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">waitTasks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¾…æ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">excutingTasks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">maxExcutingNum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å…è®¸åŒæ—¶è¿è¡Œçš„ä»»åŠ¡æ•°é‡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">add</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">promiseMaker</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">excutingTasks</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">maxExcutingNum</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">run</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">promiseMaker</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">waitTasks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">promiseMaker</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">run</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">promiseMaker</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">excutingTasks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">promiseMaker</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">promiseMaker</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">excutingTasks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">waitTasks</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">run</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">waitTasks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">shift</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_8-å»é‡" tabindex="-1">8. å»é‡ <a class="header-anchor" href="#_8-å»é‡" aria-hidden="true">#</a></h3><ul><li>åˆ©ç”¨ ES6 <code>set</code> å…³é”®å­—ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">unique</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>åˆ©ç”¨ ES5 filter æ–¹æ³•ï¼š</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">unique</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">filter</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">array</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_11-ç®—æ³•" tabindex="-1">11. ç®—æ³• <a class="header-anchor" href="#_11-ç®—æ³•" aria-hidden="true">#</a></h2><p>è¿™éƒ¨åˆ†å¤§å®¶å¯ä»¥ç‚¹å‡»ä»¥ä¸‹è¿™ä¸ªä»“åº“ï¼ŒæŒ‰ç…§ä»“åº“ä¸­çš„é¢˜ç›®é¡ºåºè¿›è¡Œåˆ·é¢˜ï¼Œéƒ½æ˜¯æˆ‘äº²è‡ªåˆ·è¿‡çš„ï¼Œæ’äº†æœ€é€‚åˆçš„é¡ºåºï¼š<a href="https://github.com/vortesnail/leetcode" target="_blank" rel="noreferrer">vortesnail/leetcode</a>ã€‚</p><p>ç„¶åå¦‚æœå¤§å®¶æƒ³çœ‹ä¸‹å¤§å‚çš„ç®—æ³•é«˜é¢‘é¢˜å¯ä»¥çœ‹è¿™ä¸ªä»“åº“ï¼š<a href="https://github.com/afatcoder/LeetcodeTop" target="_blank" rel="noreferrer">afatcoder/LeetcodeTop</a>ã€‚</p>`,339),r=[c];function y(F,D,i,C,A,d){return p(),o("div",null,r)}const g=l(t,[["render",y]]);export{f as __pageData,g as default};
